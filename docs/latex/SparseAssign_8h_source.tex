\hypertarget{SparseAssign_8h_source}{}\doxysection{Sparse\+Assign.\+h}
\label{SparseAssign_8h_source}\index{include/Eigen/src/SparseCore/SparseAssign.h@{include/Eigen/src/SparseCore/SparseAssign.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2008-\/2014 Gael Guennebaud <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{7 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{8 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef EIGEN\_SPARSEASSIGN\_H}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define EIGEN\_SPARSEASSIGN\_H}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}./InternalHeaderCheck.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{ }
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>    }
\DoxyCodeLine{18 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{19 Derived\& SparseMatrixBase<Derived>::operator=(\textcolor{keyword}{const} EigenBase<OtherDerived> \&other)}
\DoxyCodeLine{20 \{}
\DoxyCodeLine{21   internal::call\_assignment\_no\_alias(derived(), other.derived());}
\DoxyCodeLine{22   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{23 \}}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{26 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{27 Derived\& SparseMatrixBase<Derived>::operator=(\textcolor{keyword}{const} ReturnByValue<OtherDerived>\& other)}
\DoxyCodeLine{28 \{}
\DoxyCodeLine{29   \textcolor{comment}{// TODO use the evaluator mechanism}}
\DoxyCodeLine{30   other.evalTo(derived());}
\DoxyCodeLine{31   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{32 \}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{35 \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{36 \textcolor{keyword}{inline} Derived\& SparseMatrixBase<Derived>::operator=(\textcolor{keyword}{const} SparseMatrixBase<OtherDerived>\& other)}
\DoxyCodeLine{37 \{}
\DoxyCodeLine{38   \textcolor{comment}{// by default sparse evaluation do not alias, so we can safely bypass the generic call\_assignment routine}}
\DoxyCodeLine{39   internal::Assignment<Derived,OtherDerived,internal::assign\_op<Scalar,typename OtherDerived::Scalar> >}
\DoxyCodeLine{40           ::run(derived(), other.derived(), internal::assign\_op<Scalar,typename OtherDerived::Scalar>());}
\DoxyCodeLine{41   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{42 \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{45 \textcolor{keyword}{inline} Derived\& SparseMatrixBase<Derived>::operator=(\textcolor{keyword}{const} Derived\& other)}
\DoxyCodeLine{46 \{}
\DoxyCodeLine{47   internal::call\_assignment\_no\_alias(derived(), other.derived());}
\DoxyCodeLine{48   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{49 \}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{keyword}{template}<>}
\DoxyCodeLine{54 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1storage__kind__to__evaluator__kind}{storage\_kind\_to\_evaluator\_kind}}<\mbox{\hyperlink{structEigen_1_1Sparse}{Sparse}}> \{}
\DoxyCodeLine{55   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1IteratorBased}{IteratorBased}} \mbox{\hyperlink{structEigen_1_1internal_1_1IteratorBased}{Kind}};}
\DoxyCodeLine{56 \};}
\DoxyCodeLine{57 }
\DoxyCodeLine{58 \textcolor{keyword}{template}<>}
\DoxyCodeLine{59 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1storage__kind__to__shape}{storage\_kind\_to\_shape}}<\mbox{\hyperlink{structEigen_1_1Sparse}{Sparse}}> \{}
\DoxyCodeLine{60   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}} \mbox{\hyperlink{structEigen_1_1SparseShape}{Shape}};}
\DoxyCodeLine{61 \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}} \{\};}
\DoxyCodeLine{64 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Sparse2Dense}}  \{\};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}, \mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}>           \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Kind}}; \};}
\DoxyCodeLine{67 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseTriangularShape}{SparseTriangularShape}}> \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Kind}}; \};}
\DoxyCodeLine{68 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}},  \mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}>           \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Sparse2Dense}}  \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Kind}}; \};}
\DoxyCodeLine{69 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}},  \mbox{\hyperlink{structEigen_1_1internal_1_1SparseTriangularShape}{SparseTriangularShape}}> \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Sparse2Dense}}  \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Kind}}; \};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType>}
\DoxyCodeLine{73 \textcolor{keywordtype}{void} assign\_sparse\_to\_sparse(DstXprType \&dst, \textcolor{keyword}{const} SrcXprType \&src)}
\DoxyCodeLine{74 \{}
\DoxyCodeLine{75   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DstXprType::Scalar Scalar;}
\DoxyCodeLine{76   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<DstXprType>}} DstEvaluatorType;}
\DoxyCodeLine{77   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<SrcXprType>}} SrcEvaluatorType;}
\DoxyCodeLine{78 }
\DoxyCodeLine{79   SrcEvaluatorType srcEvaluator(src);}
\DoxyCodeLine{80 }
\DoxyCodeLine{81   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} transpose = (DstEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) != (SrcEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}});}
\DoxyCodeLine{82   \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} outerEvaluationSize = (SrcEvaluatorType::Flags\&\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) ? src.rows() : src.cols();}
\DoxyCodeLine{83   \textcolor{keywordflow}{if} ((!transpose) \&\& src.isRValue())}
\DoxyCodeLine{84   \{}
\DoxyCodeLine{85     \textcolor{comment}{// eval without temporary}}
\DoxyCodeLine{86     dst.resize(src.rows(), src.cols());}
\DoxyCodeLine{87     dst.setZero();}
\DoxyCodeLine{88     dst.reserve((std::min)(src.rows()*src.cols(), (std::max)(src.rows(),src.cols())*2));}
\DoxyCodeLine{89     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<outerEvaluationSize; ++j)}
\DoxyCodeLine{90     \{}
\DoxyCodeLine{91       dst.startVec(j);}
\DoxyCodeLine{92       \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} SrcEvaluatorType::InnerIterator it(srcEvaluator, j); it; ++it)}
\DoxyCodeLine{93       \{}
\DoxyCodeLine{94         Scalar v = it.value();}
\DoxyCodeLine{95         dst.insertBackByOuterInner(j,it.index()) = v;}
\DoxyCodeLine{96       \}}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98     dst.finalize();}
\DoxyCodeLine{99   \}}
\DoxyCodeLine{100   \textcolor{keywordflow}{else}}
\DoxyCodeLine{101   \{}
\DoxyCodeLine{102     \textcolor{comment}{// eval through a temporary}}
\DoxyCodeLine{103     eigen\_assert(( ((internal::traits<DstXprType>::SupportedAccessPatterns \& OuterRandomAccessPattern)==OuterRandomAccessPattern) ||}
\DoxyCodeLine{104               (!((DstEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) != (SrcEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}})))) \&\&}
\DoxyCodeLine{105               \textcolor{stringliteral}{"{}the transpose operation is supposed to be handled in SparseMatrix::operator="{}});}
\DoxyCodeLine{106 }
\DoxyCodeLine{107     \textcolor{keyword}{enum} \{ Flip = (DstEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) != (SrcEvaluatorType::Flags \& \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) \};}
\DoxyCodeLine{108 }
\DoxyCodeLine{109     }
\DoxyCodeLine{110     DstXprType temp(src.rows(), src.cols());}
\DoxyCodeLine{111 }
\DoxyCodeLine{112     temp.reserve((std::min)(src.rows()*src.cols(), (std::max)(src.rows(),src.cols())*2));}
\DoxyCodeLine{113     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<outerEvaluationSize; ++j)}
\DoxyCodeLine{114     \{}
\DoxyCodeLine{115       temp.startVec(j);}
\DoxyCodeLine{116       \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} SrcEvaluatorType::InnerIterator it(srcEvaluator, j); it; ++it)}
\DoxyCodeLine{117       \{}
\DoxyCodeLine{118         Scalar v = it.value();}
\DoxyCodeLine{119         temp.insertBackByOuterInner(Flip?it.index():j,Flip?j:it.index()) = v;}
\DoxyCodeLine{120       \}}
\DoxyCodeLine{121     \}}
\DoxyCodeLine{122     temp.finalize();}
\DoxyCodeLine{123 }
\DoxyCodeLine{124     dst = temp.markAsRValue();}
\DoxyCodeLine{125   \}}
\DoxyCodeLine{126 \}}
\DoxyCodeLine{127 }
\DoxyCodeLine{128 \textcolor{comment}{// Generic Sparse to Sparse assignment}}
\DoxyCodeLine{129 \textcolor{keyword}{template}< \textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} Functor>}
\DoxyCodeLine{130 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, SrcXprType, Functor, \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}}>}
\DoxyCodeLine{131 \{}
\DoxyCodeLine{132   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} \&\textcolor{comment}{/*func*/})}
\DoxyCodeLine{133   \{}
\DoxyCodeLine{134     assign\_sparse\_to\_sparse(dst.derived(), src.derived());}
\DoxyCodeLine{135   \}}
\DoxyCodeLine{136 \};}
\DoxyCodeLine{137 }
\DoxyCodeLine{138 \textcolor{comment}{// Generic Sparse to Dense assignment}}
\DoxyCodeLine{139 \textcolor{keyword}{template}< \textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} Functor, \textcolor{keyword}{typename} Weak>}
\DoxyCodeLine{140 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, SrcXprType, Functor, \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Dense}{Sparse2Dense}}, Weak>}
\DoxyCodeLine{141 \{}
\DoxyCodeLine{142   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} Functor \&func)}
\DoxyCodeLine{143   \{}
\DoxyCodeLine{144     \textcolor{keywordflow}{if}(\mbox{\hyperlink{structEigen_1_1internal_1_1is__same}{internal::is\_same}}<Functor,\mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} >::value)}
\DoxyCodeLine{145       dst.setZero();}
\DoxyCodeLine{146     }
\DoxyCodeLine{147     \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<SrcXprType>}} srcEval(src);}
\DoxyCodeLine{148     resize\_if\_allowed(dst, src, func);}
\DoxyCodeLine{149     \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<DstXprType>}} dstEval(dst);}
\DoxyCodeLine{150     }
\DoxyCodeLine{151     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} outerEvaluationSize = (\mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<SrcXprType>::Flags}}\&\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}}) ? src.rows() : src.cols();}
\DoxyCodeLine{152     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<outerEvaluationSize; ++j)}
\DoxyCodeLine{153       \textcolor{keywordflow}{for} (\textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<SrcXprType>::InnerIterator}} i(srcEval,j); i; ++i)}
\DoxyCodeLine{154         func.assignCoeff(dstEval.coeffRef(i.row(),i.col()), i.value());}
\DoxyCodeLine{155   \}}
\DoxyCodeLine{156 \};}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{comment}{// Specialization for dense ?= dense +/-\/ sparse and dense ?= sparse +/-\/ dense}}
\DoxyCodeLine{159 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} Func1, \textcolor{keyword}{typename} Func2>}
\DoxyCodeLine{160 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1assignment__from__dense__op__sparse}{assignment\_from\_dense\_op\_sparse}}}
\DoxyCodeLine{161 \{}
\DoxyCodeLine{162   \textcolor{keyword}{template}<\textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} InitialFunc>}
\DoxyCodeLine{163   \textcolor{keyword}{static} EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{164   \textcolor{keywordtype}{void} run(DstXprType \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} InitialFunc\& \textcolor{comment}{/*func*/})}
\DoxyCodeLine{165   \{}
\DoxyCodeLine{166 \textcolor{preprocessor}{    \#ifdef EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_DENSE\_OP\_SPARSE\_PLUGIN}}
\DoxyCodeLine{167     EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_DENSE\_OP\_SPARSE\_PLUGIN}
\DoxyCodeLine{168 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{169 }
\DoxyCodeLine{170     call\_assignment\_no\_alias(dst, src.lhs(), Func1());}
\DoxyCodeLine{171     call\_assignment\_no\_alias(dst, src.rhs(), Func2());}
\DoxyCodeLine{172   \}}
\DoxyCodeLine{173 }
\DoxyCodeLine{174   \textcolor{comment}{// Specialization for dense1 = sparse + dense2; -\/> dense1 = dense2; dense1 += sparse;}}
\DoxyCodeLine{175   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Lhs, \textcolor{keyword}{typename} Rhs, \textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{176   \textcolor{keyword}{static} EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{177   \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::is\_same<typename internal::evaluator\_traits<Rhs>::Shape}},\mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}}>::value>::type}
\DoxyCodeLine{178   run(DstXprType \&dst, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1CwiseBinaryOp}{CwiseBinaryOp}}<\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__sum__op}{internal::scalar\_sum\_op<Scalar,Scalar>}}, \textcolor{keyword}{const} Lhs, \textcolor{keyword}{const} Rhs> \&src,}
\DoxyCodeLine{179       \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,Scalar>}}\& \textcolor{comment}{/*func*/})}
\DoxyCodeLine{180   \{}
\DoxyCodeLine{181 \textcolor{preprocessor}{    \#ifdef EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_SPARSE\_ADD\_DENSE\_PLUGIN}}
\DoxyCodeLine{182     EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_SPARSE\_ADD\_DENSE\_PLUGIN}
\DoxyCodeLine{183 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185     \textcolor{comment}{// Apply the dense matrix first, then the sparse one.}}
\DoxyCodeLine{186     call\_assignment\_no\_alias(dst, src.rhs(), Func1());}
\DoxyCodeLine{187     call\_assignment\_no\_alias(dst, src.lhs(), Func2());}
\DoxyCodeLine{188   \}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190   \textcolor{comment}{// Specialization for dense1 = sparse -\/ dense2; -\/> dense1 = -\/dense2; dense1 += sparse;}}
\DoxyCodeLine{191   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Lhs, \textcolor{keyword}{typename} Rhs, \textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{192   \textcolor{keyword}{static} EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{193   \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::is\_same<typename internal::evaluator\_traits<Rhs>::Shape}},\mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}}>::value>::type}
\DoxyCodeLine{194   run(DstXprType \&dst, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1CwiseBinaryOp}{CwiseBinaryOp}}<\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__difference__op}{internal::scalar\_difference\_op<Scalar,Scalar>}}, \textcolor{keyword}{const} Lhs, \textcolor{keyword}{const} Rhs> \&src,}
\DoxyCodeLine{195       \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,Scalar>}}\& \textcolor{comment}{/*func*/})}
\DoxyCodeLine{196   \{}
\DoxyCodeLine{197 \textcolor{preprocessor}{    \#ifdef EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_SPARSE\_SUB\_DENSE\_PLUGIN}}
\DoxyCodeLine{198     EIGEN\_SPARSE\_ASSIGNMENT\_FROM\_SPARSE\_SUB\_DENSE\_PLUGIN}
\DoxyCodeLine{199 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{comment}{// Apply the dense matrix first, then the sparse one.}}
\DoxyCodeLine{202     call\_assignment\_no\_alias(dst, -\/src.rhs(), Func1());}
\DoxyCodeLine{203     call\_assignment\_no\_alias(dst,  src.lhs(), \mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op<typename DstXprType::Scalar,typename Lhs::Scalar>}}());}
\DoxyCodeLine{204   \}}
\DoxyCodeLine{205 \};}
\DoxyCodeLine{206 }
\DoxyCodeLine{207 \textcolor{preprocessor}{\#define EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(ASSIGN\_OP,BINOP,ASSIGN\_OP2) \(\backslash\)}}
\DoxyCodeLine{208 \textcolor{preprocessor}{  template< typename DstXprType, typename Lhs, typename Rhs, typename Scalar> \(\backslash\)}}
\DoxyCodeLine{209 \textcolor{preprocessor}{  struct Assignment<DstXprType, CwiseBinaryOp<internal::BINOP<Scalar,Scalar>, const Lhs, const Rhs>, internal::ASSIGN\_OP<typename DstXprType::Scalar,Scalar>, \(\backslash\)}}
\DoxyCodeLine{210 \textcolor{preprocessor}{                    Sparse2Dense, \(\backslash\)}}
\DoxyCodeLine{211 \textcolor{preprocessor}{                    typename internal::enable\_if<   internal::is\_same<typename internal::evaluator\_traits<Lhs>::Shape,DenseShape>::value \(\backslash\)}}
\DoxyCodeLine{212 \textcolor{preprocessor}{                                                 || internal::is\_same<typename internal::evaluator\_traits<Rhs>::Shape,DenseShape>::value>::type> \(\backslash\)}}
\DoxyCodeLine{213 \textcolor{preprocessor}{    : assignment\_from\_dense\_op\_sparse<DstXprType, internal::ASSIGN\_OP<typename DstXprType::Scalar,typename Lhs::Scalar>, internal::ASSIGN\_OP2<typename DstXprType::Scalar,typename Rhs::Scalar> > \(\backslash\)}}
\DoxyCodeLine{214 \textcolor{preprocessor}{  \{\}}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{assign\_op}},    \mbox{\hyperlink{structEigen_1_1internal_1_1scalar__sum__op}{scalar\_sum\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op}});}
\DoxyCodeLine{217 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__sum__op}{scalar\_sum\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op}});}
\DoxyCodeLine{218 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{sub\_assign\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__sum__op}{scalar\_sum\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{sub\_assign\_op}});}
\DoxyCodeLine{219 }
\DoxyCodeLine{220 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{assign\_op}},    \mbox{\hyperlink{structEigen_1_1internal_1_1scalar__difference__op}{scalar\_difference\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{sub\_assign\_op}});}
\DoxyCodeLine{221 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__difference__op}{scalar\_difference\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{sub\_assign\_op}});}
\DoxyCodeLine{222 EIGEN\_CATCH\_ASSIGN\_DENSE\_OP\_SPARSE(\mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{sub\_assign\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1scalar__difference__op}{scalar\_difference\_op}},\mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{add\_assign\_op}});}
\DoxyCodeLine{223 }
\DoxyCodeLine{224 }
\DoxyCodeLine{225 \textcolor{comment}{// Specialization for "{}dst = dec.solve(rhs)"{}}}
\DoxyCodeLine{226 \textcolor{comment}{// NOTE we need to specialize it for Sparse2Sparse to avoid ambiguous specialization error}}
\DoxyCodeLine{227 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} DecType, \textcolor{keyword}{typename} RhsType, \textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{228 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, \mbox{\hyperlink{classEigen_1_1Solve}{Solve}}<DecType,RhsType>, internal::\mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{assign\_op}}<Scalar,Scalar>, \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}}>}
\DoxyCodeLine{229 \{}
\DoxyCodeLine{230   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Solve}{Solve<DecType,RhsType>}} \mbox{\hyperlink{classEigen_1_1Solve}{SrcXprType}};}
\DoxyCodeLine{231   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(DstXprType \&dst, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Solve}{SrcXprType}} \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<Scalar,Scalar>}} \&)}
\DoxyCodeLine{232   \{}
\DoxyCodeLine{233     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} dstRows = src.rows();}
\DoxyCodeLine{234     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} dstCols = src.cols();}
\DoxyCodeLine{235     \textcolor{keywordflow}{if}((dst.rows()!=dstRows) || (dst.cols()!=dstCols))}
\DoxyCodeLine{236       dst.resize(dstRows, dstCols);}
\DoxyCodeLine{237 }
\DoxyCodeLine{238     src.dec().\_solve\_impl(src.rhs(), dst);}
\DoxyCodeLine{239   \}}
\DoxyCodeLine{240 \};}
\DoxyCodeLine{241 }
\DoxyCodeLine{242 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Diagonal2Sparse}{Diagonal2Sparse}} \{\};}
\DoxyCodeLine{243 }
\DoxyCodeLine{244 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}},\mbox{\hyperlink{structEigen_1_1DiagonalShape}{DiagonalShape}}> \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Diagonal2Sparse}{Diagonal2Sparse}} \mbox{\hyperlink{structEigen_1_1internal_1_1Diagonal2Sparse}{Kind}}; \};}
\DoxyCodeLine{245 }
\DoxyCodeLine{246 \textcolor{keyword}{template}< \textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} Functor>}
\DoxyCodeLine{247 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, SrcXprType, Functor, \mbox{\hyperlink{structEigen_1_1internal_1_1Diagonal2Sparse}{Diagonal2Sparse}}>}
\DoxyCodeLine{248 \{}
\DoxyCodeLine{249   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DstXprType::StorageIndex StorageIndex;}
\DoxyCodeLine{250   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DstXprType::Scalar Scalar;}
\DoxyCodeLine{251 }
\DoxyCodeLine{252   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Options, \textcolor{keyword}{typename} AssignFunc>}
\DoxyCodeLine{253   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<Scalar,Options,StorageIndex>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} AssignFunc \&func)}
\DoxyCodeLine{254   \{ dst.assignDiagonal(src.diagonal(), func); \}}
\DoxyCodeLine{255   }
\DoxyCodeLine{256   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstDerived>}
\DoxyCodeLine{257   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<DstDerived>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} \&\textcolor{comment}{/*func*/})}
\DoxyCodeLine{258   \{ dst.derived().diagonal() = src.diagonal(); \}}
\DoxyCodeLine{259   }
\DoxyCodeLine{260   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstDerived>}
\DoxyCodeLine{261   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<DstDerived>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{internal::add\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} \&\textcolor{comment}{/*func*/})}
\DoxyCodeLine{262   \{ dst.derived().diagonal() += src.diagonal(); \}}
\DoxyCodeLine{263   }
\DoxyCodeLine{264   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstDerived>}
\DoxyCodeLine{265   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<DstDerived>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{internal::sub\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} \&\textcolor{comment}{/*func*/})}
\DoxyCodeLine{266   \{ dst.derived().diagonal() -\/= src.diagonal(); \}}
\DoxyCodeLine{267 \};}
\DoxyCodeLine{268 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{269 }
\DoxyCodeLine{270 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{271 }
\DoxyCodeLine{272 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_SPARSEASSIGN\_H}}

\end{DoxyCode}
