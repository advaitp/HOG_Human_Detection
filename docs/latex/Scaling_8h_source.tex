\hypertarget{Scaling_8h_source}{}\doxysection{Scaling.\+h}
\label{Scaling_8h_source}\index{include/Eigen/src/Geometry/Scaling.h@{include/Eigen/src/Geometry/Scaling.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2008 Gael Guennebaud <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{7 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{8 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef EIGEN\_SCALING\_H}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define EIGEN\_SCALING\_H}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}./InternalHeaderCheck.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{ }
\DoxyCodeLine{16 }
\DoxyCodeLine{35 \textcolor{keyword}{namespace }internal}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37   \textcolor{comment}{// This helper helps nvcc+MSVC to properly parse this file.}}
\DoxyCodeLine{38   \textcolor{comment}{// See bug 1412.}}
\DoxyCodeLine{39   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Dim, \textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{40   \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1uniformscaling__times__affine__returntype}{uniformscaling\_times\_affine\_returntype}}}
\DoxyCodeLine{41   \{}
\DoxyCodeLine{42     \textcolor{keyword}{enum}}
\DoxyCodeLine{43     \{}
\DoxyCodeLine{44       NewMode = int(Mode) == int(\mbox{\hyperlink{group__enums_ggaee59a86102f150923b0cac6d4ff05107a84413028615d2d718bafd2dfb93dafef}{Isometry}}) ? \mbox{\hyperlink{group__enums_ggaee59a86102f150923b0cac6d4ff05107a0872f0a82453aaae40339c33acbb31fb}{Affine}} : Mode}
\DoxyCodeLine{45     \};}
\DoxyCodeLine{46     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Transform}{Transform <Scalar, Dim, NewMode>}} \mbox{\hyperlink{classEigen_1_1Transform}{type}};}
\DoxyCodeLine{47   \};}
\DoxyCodeLine{48 \}}
\DoxyCodeLine{49 }
\DoxyCodeLine{50 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_>}
\DoxyCodeLine{51 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}}}
\DoxyCodeLine{52 \{}
\DoxyCodeLine{53 \textcolor{keyword}{public}:}
\DoxyCodeLine{55   \textcolor{keyword}{typedef} Scalar\_ \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}};}
\DoxyCodeLine{56 }
\DoxyCodeLine{57 \textcolor{keyword}{protected}:}
\DoxyCodeLine{58 }
\DoxyCodeLine{59   \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}} m\_factor;}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{keyword}{public}:}
\DoxyCodeLine{62 }
\DoxyCodeLine{64   \mbox{\hyperlink{classEigen_1_1UniformScaling_abf2d449b9ac8c5abae27f509829d217e}{UniformScaling}}() \{\}}
\DoxyCodeLine{66   \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling_acb908575610c8b538f0f8f2c72a03f4d}{UniformScaling}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}\& s) : m\_factor(s) \{\}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68   \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}\& factor()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_factor; \}}
\DoxyCodeLine{69   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}\& factor() \{ \textcolor{keywordflow}{return} m\_factor; \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{72   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}} \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{73 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling_abf2d449b9ac8c5abae27f509829d217e}{UniformScaling}}(m\_factor * other.factor()); \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{76   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim>}
\DoxyCodeLine{77   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Transform}{Transform<Scalar,Dim,Affine>}} \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Translation}{Translation<Scalar,Dim>}}\& t) \textcolor{keyword}{const};}
\DoxyCodeLine{78 }
\DoxyCodeLine{80   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim, \textcolor{keywordtype}{int} Mode, \textcolor{keywordtype}{int} Options>}
\DoxyCodeLine{81   \textcolor{keyword}{inline} \textcolor{keyword}{typename}}
\DoxyCodeLine{82     \mbox{\hyperlink{classEigen_1_1Transform}{internal::uniformscaling\_times\_affine\_returntype<Scalar,Dim,Mode>::type}}}
\DoxyCodeLine{83     \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Transform}{Transform<Scalar, Dim, Mode, Options>}}\& t)\textcolor{keyword}{ const}}
\DoxyCodeLine{84 \textcolor{keyword}{  }\{}
\DoxyCodeLine{85     \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1Transform}{internal::uniformscaling\_times\_affine\_returntype<Scalar,Dim,Mode>::type}} res = t;}
\DoxyCodeLine{86     res.prescale(factor());}
\DoxyCodeLine{87     \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{88   \}}
\DoxyCodeLine{89 }
\DoxyCodeLine{91   \textcolor{comment}{// TODO returns an expression}}
\DoxyCodeLine{92   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{93   \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{Eigen::internal::plain\_matrix\_type<Derived>::type}} \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{94 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} other * m\_factor; \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,\textcolor{keywordtype}{int} Dim>}
\DoxyCodeLine{97   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,Dim,Dim>}} \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1RotationBase}{RotationBase<Derived,Dim>}}\& r)\textcolor{keyword}{ const}}
\DoxyCodeLine{98 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} r.\mbox{\hyperlink{classEigen_1_1RotationBase_a1833c2e992e163201f5d9ed6850f8cb0}{toRotationMatrix}}() * m\_factor; \}}
\DoxyCodeLine{99 }
\DoxyCodeLine{101   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}} \mbox{\hyperlink{classEigen_1_1UniformScaling_a207c55aa443a0a12c7d22e2f7fe9a4cd}{inverse}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{102 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling_abf2d449b9ac8c5abae27f509829d217e}{UniformScaling}}(\mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}(1)/m\_factor); \}}
\DoxyCodeLine{103 }
\DoxyCodeLine{109   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>}
\DoxyCodeLine{110   \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<NewScalarType>}} \mbox{\hyperlink{classEigen_1_1UniformScaling_ae6106b20bb41a2f4866cfc22ade76cd2}{cast}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{111 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<NewScalarType>}}(NewScalarType(m\_factor)); \}}
\DoxyCodeLine{112 }
\DoxyCodeLine{114   \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherScalarType>}
\DoxyCodeLine{115   \textcolor{keyword}{inline} \textcolor{keyword}{explicit} \mbox{\hyperlink{classEigen_1_1UniformScaling_ae7feacbcb569e020dcdb709b8a8bb9b5}{UniformScaling}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<OtherScalarType>}}\& other)}
\DoxyCodeLine{116   \{ m\_factor = \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}(other.factor()); \}}
\DoxyCodeLine{117 }
\DoxyCodeLine{122   \textcolor{keywordtype}{bool} \mbox{\hyperlink{classEigen_1_1UniformScaling_a4e5d8f3628a40923ecdf37ae469a087b}{isApprox}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}}\& other, \textcolor{keyword}{const} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::Real}}\& prec = \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::dummy\_precision}}())\textcolor{keyword}{ const}}
\DoxyCodeLine{123 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} internal::isApprox(m\_factor, other.factor(), prec); \}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \};}
\DoxyCodeLine{126 }
\DoxyCodeLine{129 }
\DoxyCodeLine{133 \textcolor{comment}{// NOTE this operator is defined in MatrixBase and not as a friend function}}
\DoxyCodeLine{134 \textcolor{comment}{// of UniformScaling to fix an internal crash of Intel's ICC}}
\DoxyCodeLine{135 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived,\textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{136 EIGEN\_EXPR\_BINARYOP\_SCALAR\_RETURN\_TYPE(Derived,Scalar,product)}
\DoxyCodeLine{137 operator*(const \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase}}<Derived>\& matrix, const \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling}}<\mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}>\& s)}
\DoxyCodeLine{138 \{ \textcolor{keywordflow}{return} matrix.derived() * s.factor(); \}}
\DoxyCodeLine{139 }
\DoxyCodeLine{141 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<float>}} \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keywordtype}{float} s) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<float>}}(s); \}}
\DoxyCodeLine{143 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<double>}} \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keywordtype}{double} s) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<double>}}(s); \}}
\DoxyCodeLine{145 \textcolor{keyword}{template}<\textcolor{keyword}{typename} RealScalar>}
\DoxyCodeLine{146 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<std::complex<RealScalar>}} > \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keyword}{const} std::complex<RealScalar>\& s)}
\DoxyCodeLine{147 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1UniformScaling}{UniformScaling<std::complex<RealScalar>}} >(s); \}}
\DoxyCodeLine{148 }
\DoxyCodeLine{150 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{151 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<Scalar,2>}} \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keyword}{const} Scalar\& sx, \textcolor{keyword}{const} Scalar\& sy)}
\DoxyCodeLine{152 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<Scalar,2>}}(sx, sy); \}}
\DoxyCodeLine{154 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{155 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<Scalar,3>}} \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keyword}{const} Scalar\& sx, \textcolor{keyword}{const} Scalar\& sy, \textcolor{keyword}{const} Scalar\& sz)}
\DoxyCodeLine{156 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<Scalar,3>}}(sx, sy, sz); \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{161 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{162 \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1DiagonalWrapper}{DiagonalWrapper<const Derived>}} \mbox{\hyperlink{namespaceEigen_a23a8ed57e3f2973526026765ae697761}{Scaling}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\& coeffs)}
\DoxyCodeLine{163 \{ \textcolor{keywordflow}{return} coeffs.\mbox{\hyperlink{classEigen_1_1MatrixBase_a22df3e4cfe9e81535c3590fd91fd639c}{asDiagonal}}(); \}}
\DoxyCodeLine{164 }
\DoxyCodeLine{166 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<float, 2>}} \mbox{\hyperlink{namespaceEigen_af2440178a1f5f6abef6ee0231bc49184}{AlignedScaling2f}};}
\DoxyCodeLine{168 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<double,2>}} \mbox{\hyperlink{namespaceEigen_af8975289b8134a5021e806029516e82c}{AlignedScaling2d}};}
\DoxyCodeLine{170 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<float, 3>}} \mbox{\hyperlink{namespaceEigen_a45caf8b0e6da378885f4ae3f06c5cde3}{AlignedScaling3f}};}
\DoxyCodeLine{172 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1DiagonalMatrix}{DiagonalMatrix<double,3>}} \mbox{\hyperlink{namespaceEigen_a0aff001d5740f13797c9acd4e3276673}{AlignedScaling3d}};}
\DoxyCodeLine{174 }
\DoxyCodeLine{175 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{176 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Dim>}
\DoxyCodeLine{177 \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Transform}{Transform<Scalar,Dim,Affine>}}}
\DoxyCodeLine{178 \mbox{\hyperlink{classEigen_1_1UniformScaling_a9bcc054da533bce8bff54cfe0644728d}{UniformScaling<Scalar>::operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Translation}{Translation<Scalar,Dim>}}\& t)\textcolor{keyword}{ const}}
\DoxyCodeLine{179 \textcolor{keyword}{}\{}
\DoxyCodeLine{180   \mbox{\hyperlink{classEigen_1_1Transform}{Transform<Scalar,Dim,Affine>}} res;}
\DoxyCodeLine{181   res.\mbox{\hyperlink{classEigen_1_1Transform_ad7b807361b51b9cbd25ea704d9aeafd0}{matrix}}().\mbox{\hyperlink{classEigen_1_1PlainObjectBase_ac21ad5f989f320e46958b75ac8d9a1da}{setZero}}();}
\DoxyCodeLine{182   res.\mbox{\hyperlink{classEigen_1_1Transform_a2aef390039b5e032f1a65822e0a0e916}{linear}}().diagonal().fill(factor());}
\DoxyCodeLine{183   res.\mbox{\hyperlink{classEigen_1_1Transform_a797d079d345a0363dd1ee8c1ff83ddd6}{translation}}() = factor() * t.vector();}
\DoxyCodeLine{184   res(Dim,Dim) = \mbox{\hyperlink{classEigen_1_1UniformScaling_a46bc53fc4d8a61f9b15411938254f462}{Scalar}}(1);}
\DoxyCodeLine{185   \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{186 \}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{189 }
\DoxyCodeLine{190 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_SCALING\_H}}

\end{DoxyCode}
