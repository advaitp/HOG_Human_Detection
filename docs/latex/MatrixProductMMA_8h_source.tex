\hypertarget{MatrixProductMMA_8h_source}{}\doxysection{Matrix\+Product\+MMA.\+h}
\label{MatrixProductMMA_8h_source}\index{include/Eigen/src/Core/arch/AltiVec/MatrixProductMMA.h@{include/Eigen/src/Core/arch/AltiVec/MatrixProductMMA.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2020 Everton Constantino (everton.constantino@ibm.com)}}
\DoxyCodeLine{5 \textcolor{comment}{// Copyright (C) 2021 Chip Kerchner (chip.kerchner@ibm.com)}}
\DoxyCodeLine{6 \textcolor{comment}{//}}
\DoxyCodeLine{7 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{8 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{9 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef EIGEN\_MATRIX\_PRODUCT\_MMA\_ALTIVEC\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define EIGEN\_MATRIX\_PRODUCT\_MMA\_ALTIVEC\_H}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#pragma GCC target("{}cpu=power10"{}})}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#ifdef \_\_has\_builtin}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#if !\_\_has\_builtin(\_\_builtin\_vsx\_assemble\_pair)}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define \_\_builtin\_vsx\_assemble\_pair \_\_builtin\_mma\_assemble\_pair}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}../../InternalHeaderCheck.h"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Packet>}
\DoxyCodeLine{29 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} bsetzeroMMA(\_\_vector\_quad* acc)}
\DoxyCodeLine{30 \{}
\DoxyCodeLine{31   \_\_builtin\_mma\_xxsetaccz(acc);}
\DoxyCodeLine{32 \}}
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DataMapper, \textcolor{keyword}{typename} Index, \textcolor{keyword}{typename} Packet, const Index accCols>}
\DoxyCodeLine{35 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} storeAccumulator(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j, \textcolor{keyword}{const} DataMapper\& data, \textcolor{keyword}{const} Packet\& alpha, \_\_vector\_quad* acc)}
\DoxyCodeLine{36 \{}
\DoxyCodeLine{37   PacketBlock<Packet, 4> result;}
\DoxyCodeLine{38   \_\_builtin\_mma\_disassemble\_acc(\&result.packet, acc);}
\DoxyCodeLine{39 }
\DoxyCodeLine{40   PacketBlock<Packet, 4> tRes;}
\DoxyCodeLine{41   bload<DataMapper, Packet, Index, accCols, 0, ColMajor>(tRes, data, i, j);}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   bscale<Packet>(tRes, result, alpha);}
\DoxyCodeLine{44 }
\DoxyCodeLine{45   data.template storePacketBlock<Packet, 4>(i, j, tRes);}
\DoxyCodeLine{46 \}}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DataMapper, \textcolor{keyword}{typename} Index, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} Packetc, const Index accColsC, \textcolor{keywordtype}{int} N>}
\DoxyCodeLine{49 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} storeComplexAccumulator(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j, \textcolor{keyword}{const} DataMapper\& data, \textcolor{keyword}{const} Packet\& alphaReal, \textcolor{keyword}{const} Packet\& alphaImag, \_\_vector\_quad* accReal, \_\_vector\_quad* accImag)}
\DoxyCodeLine{50 \{}
\DoxyCodeLine{51   PacketBlock<Packet, 4> resultReal, resultImag;}
\DoxyCodeLine{52   \_\_builtin\_mma\_disassemble\_acc(\&resultReal.packet, accReal);}
\DoxyCodeLine{53   \_\_builtin\_mma\_disassemble\_acc(\&resultImag.packet, accImag);}
\DoxyCodeLine{54 }
\DoxyCodeLine{55   PacketBlock<Packetc, 8> tRes;}
\DoxyCodeLine{56   bload<DataMapper, Packetc, Index, accColsC, N, ColMajor>(tRes, data, i, j);}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   PacketBlock<Packet,4> taccReal, taccImag;}
\DoxyCodeLine{59   bscalec<Packet,4>(resultReal, resultImag, alphaReal, alphaImag, taccReal, taccImag);}
\DoxyCodeLine{60 }
\DoxyCodeLine{61   PacketBlock<Packetc, 4> acc1, acc2;}
\DoxyCodeLine{62   bcouple<Packet, Packetc>(taccReal, taccImag, tRes, acc1, acc2);}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   data.template storePacketBlock<Packetc, 4>(i + N*accColsC, j, acc1);}
\DoxyCodeLine{65   data.template storePacketBlock<Packetc, 4>(i + (N+1)*accColsC, j, acc2);}
\DoxyCodeLine{66 \}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{comment}{// Defaults to float32, since Eigen still supports C++03 we can't use default template arguments}}
\DoxyCodeLine{69 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsPacket, \textcolor{keyword}{typename} RhsPacket, \textcolor{keywordtype}{bool} NegativeAccumulate>}
\DoxyCodeLine{70 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} pgerMMA(\_\_vector\_quad* acc, \textcolor{keyword}{const} RhsPacket\& a, \textcolor{keyword}{const} LhsPacket\& b)}
\DoxyCodeLine{71 \{}
\DoxyCodeLine{72   \textcolor{keywordflow}{if}(NegativeAccumulate)}
\DoxyCodeLine{73   \{}
\DoxyCodeLine{74     \_\_builtin\_mma\_xvf32gernp(acc, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})a, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{75   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{76     \_\_builtin\_mma\_xvf32gerpp(acc, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})a, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{77   \}}
\DoxyCodeLine{78 \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsPacket, \textcolor{keyword}{typename} RhsPacket, \textcolor{keywordtype}{bool} NegativeAccumulate>}
\DoxyCodeLine{81 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} pgerMMA(\_\_vector\_quad* acc, \textcolor{keyword}{const} PacketBlock<Packet2d,2>\& a, \textcolor{keyword}{const} Packet2d\& b)}
\DoxyCodeLine{82 \{}
\DoxyCodeLine{83   \_\_vector\_pair* a0 = (\_\_vector\_pair *)(\&a.packet[0]);}
\DoxyCodeLine{84   \textcolor{keywordflow}{if}(NegativeAccumulate)}
\DoxyCodeLine{85   \{}
\DoxyCodeLine{86     \_\_builtin\_mma\_xvf64gernp(acc, *a0, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{87   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{88     \_\_builtin\_mma\_xvf64gerpp(acc, *a0, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{89   \}}
\DoxyCodeLine{90 \}}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsPacket, \textcolor{keyword}{typename} RhsPacket, \textcolor{keywordtype}{bool} NegativeAccumulate>}
\DoxyCodeLine{93 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} pgerMMA(\_\_vector\_quad* acc, \textcolor{keyword}{const} \_\_vector\_pair\& a, \textcolor{keyword}{const} Packet2d\& b)}
\DoxyCodeLine{94 \{}
\DoxyCodeLine{95   \textcolor{keywordflow}{if}(NegativeAccumulate)}
\DoxyCodeLine{96   \{}
\DoxyCodeLine{97     \_\_builtin\_mma\_xvf64gernp(acc, (\_\_vector\_pair)a, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{98   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{99     \_\_builtin\_mma\_xvf64gerpp(acc, (\_\_vector\_pair)a, (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})b);}
\DoxyCodeLine{100   \}}
\DoxyCodeLine{101 \}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsPacket, \textcolor{keyword}{typename} RhsPacket, \textcolor{keywordtype}{bool} NegativeAccumulate>}
\DoxyCodeLine{104 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} pgerMMA(\_\_vector\_quad*, \textcolor{keyword}{const} \_\_vector\_pair\&, \textcolor{keyword}{const} Packet4f\&)}
\DoxyCodeLine{105 \{}
\DoxyCodeLine{106   \textcolor{comment}{// Just for compilation}}
\DoxyCodeLine{107 \}}
\DoxyCodeLine{108 }
\DoxyCodeLine{109 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} RhsPacket, \textcolor{keywordtype}{bool} ConjugateLhs, \textcolor{keywordtype}{bool} ConjugateRhs, \textcolor{keywordtype}{bool} LhsIsReal, \textcolor{keywordtype}{bool} RhsIsReal>}
\DoxyCodeLine{110 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} pgercMMA(\_\_vector\_quad* accReal, \_\_vector\_quad* accImag, \textcolor{keyword}{const} Packet\& lhsV, \textcolor{keyword}{const} Packet\& lhsVi, \textcolor{keyword}{const} RhsPacket\& rhsV, \textcolor{keyword}{const} RhsPacket\& rhsVi)}
\DoxyCodeLine{111 \{}
\DoxyCodeLine{112   pgerMMA<Packet, RhsPacket, false>(accReal,  rhsV,  lhsV);}
\DoxyCodeLine{113   \textcolor{keywordflow}{if}(LhsIsReal) \{}
\DoxyCodeLine{114     pgerMMA<Packet, RhsPacket, ConjugateRhs>(accImag, rhsVi,  lhsV);}
\DoxyCodeLine{115   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{116     \textcolor{keywordflow}{if}(!RhsIsReal) \{}
\DoxyCodeLine{117       pgerMMA<Packet, RhsPacket, ConjugateLhs == ConjugateRhs>(accReal, rhsVi, lhsVi);}
\DoxyCodeLine{118       pgerMMA<Packet, RhsPacket, ConjugateRhs>(accImag, rhsVi,  lhsV);}
\DoxyCodeLine{119     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{120       EIGEN\_UNUSED\_VARIABLE(rhsVi);}
\DoxyCodeLine{121     \}}
\DoxyCodeLine{122     pgerMMA<Packet, RhsPacket, ConjugateLhs>(accImag,  rhsV, lhsVi);}
\DoxyCodeLine{123   \}}
\DoxyCodeLine{124 \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126 \textcolor{comment}{// This is necessary because ploadRhs for double returns a pair of vectors when MMA is enabled.}}
\DoxyCodeLine{127 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Packet>}
\DoxyCodeLine{128 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} ploadRhsMMA(\textcolor{keyword}{const} Scalar* rhs, Packet\& rhsV)}
\DoxyCodeLine{129 \{}
\DoxyCodeLine{130   rhsV = ploadRhs<Scalar, Packet>((\textcolor{keyword}{const} Scalar*)(rhs));}
\DoxyCodeLine{131 \} }
\DoxyCodeLine{132 }
\DoxyCodeLine{133 \textcolor{keyword}{template}<>}
\DoxyCodeLine{134 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} ploadRhsMMA<double, PacketBlock<Packet2d, 2> >(\textcolor{keyword}{const} \textcolor{keywordtype}{double}* rhs, PacketBlock<Packet2d, 2>\& rhsV)}
\DoxyCodeLine{135 \{}
\DoxyCodeLine{136   rhsV.packet[0] = ploadRhs<double, Packet2d>((\textcolor{keyword}{const} \textcolor{keywordtype}{double} *)((Packet2d *)rhs      ));}
\DoxyCodeLine{137   rhsV.packet[1] = ploadRhs<double, Packet2d>((\textcolor{keyword}{const} \textcolor{keywordtype}{double} *)(((Packet2d *)rhs) + 1));}
\DoxyCodeLine{138 \}}
\DoxyCodeLine{139 }
\DoxyCodeLine{140 \textcolor{keyword}{template}<>}
\DoxyCodeLine{141 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} ploadRhsMMA<double, \_\_vector\_pair>(\textcolor{keyword}{const} \textcolor{keywordtype}{double}* rhs, \_\_vector\_pair\& rhsV)}
\DoxyCodeLine{142 \{}
\DoxyCodeLine{143 \textcolor{preprocessor}{\#if EIGEN\_COMP\_LLVM}}
\DoxyCodeLine{144   \_\_builtin\_vsx\_assemble\_pair(\&rhsV,}
\DoxyCodeLine{145     (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})(ploadRhs<double, Packet2d>((\textcolor{keyword}{const} \textcolor{keywordtype}{double} *)(((Packet2d *)rhs) + 1))),}
\DoxyCodeLine{146     (\_\_vector \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})(ploadRhs<double, Packet2d>((\textcolor{keyword}{const} \textcolor{keywordtype}{double} *)((Packet2d *)rhs      ))));}
\DoxyCodeLine{147 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{148   \_\_asm\_\_ (\textcolor{stringliteral}{"{}lxvp \%x0,\%1"{}} : \textcolor{stringliteral}{"{}=wa"{}} (rhsV) : \textcolor{stringliteral}{"{}Y"{}} (*rhs));}
\DoxyCodeLine{149 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{150 \}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{keyword}{template}<>}
\DoxyCodeLine{153 EIGEN\_ALWAYS\_INLINE \textcolor{keywordtype}{void} ploadRhsMMA(\textcolor{keyword}{const} \textcolor{keywordtype}{float}*, \_\_vector\_pair\&)}
\DoxyCodeLine{154 \{}
\DoxyCodeLine{155   \textcolor{comment}{// Just for compilation}}
\DoxyCodeLine{156 \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{comment}{// PEEL\_MMA loop factor.}}
\DoxyCodeLine{159 \textcolor{preprocessor}{\#define PEEL\_MMA 7}}
\DoxyCodeLine{160 }
\DoxyCodeLine{161 \textcolor{preprocessor}{\#define MICRO\_MMA\_UNROLL(func) \(\backslash\)}}
\DoxyCodeLine{162 \textcolor{preprocessor}{  func(0) func(1) func(2) func(3) func(4) func(5) func(6) func(7)}}
\DoxyCodeLine{163 }
\DoxyCodeLine{164 \textcolor{preprocessor}{\#define MICRO\_MMA\_LOAD\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{165 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{166 \textcolor{preprocessor}{    lhsV\#\#iter = ploadLhs<Scalar, Packet>(lhs\_ptr\#\#iter); \(\backslash\)}}
\DoxyCodeLine{167 \textcolor{preprocessor}{    lhs\_ptr\#\#iter += accCols; \(\backslash\)}}
\DoxyCodeLine{168 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{169 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhsV\#\#iter); \(\backslash\)}}
\DoxyCodeLine{170 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172 \textcolor{preprocessor}{\#define MICRO\_MMA\_WORK\_ONE(iter, type, peel) \(\backslash\)}}
\DoxyCodeLine{173 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{174 \textcolor{preprocessor}{    pgerMMA<Packet, type, false>(\&accZero\#\#iter, rhsV\#\#peel, lhsV\#\#iter); \(\backslash\)}}
\DoxyCodeLine{175 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{176 }
\DoxyCodeLine{177 \textcolor{preprocessor}{\#define MICRO\_MMA\_TYPE\_PEEL(func, func2, type, peel) \(\backslash\)}}
\DoxyCodeLine{178 \textcolor{preprocessor}{  if (PEEL\_MMA > peel) \{ \(\backslash\)}}
\DoxyCodeLine{179 \textcolor{preprocessor}{    Packet lhsV0, lhsV1, lhsV2, lhsV3, lhsV4, lhsV5, lhsV6, lhsV7; \(\backslash\)}}
\DoxyCodeLine{180 \textcolor{preprocessor}{    ploadRhsMMA<Scalar, type>(rhs\_ptr + (accRows * peel), rhsV\#\#peel); \(\backslash\)}}
\DoxyCodeLine{181 \textcolor{preprocessor}{    MICRO\_MMA\_UNROLL(func2); \(\backslash\)}}
\DoxyCodeLine{182 \textcolor{preprocessor}{    func(0,type,peel) func(1,type,peel) func(2,type,peel) func(3,type,peel) \(\backslash\)}}
\DoxyCodeLine{183 \textcolor{preprocessor}{    func(4,type,peel) func(5,type,peel) func(6,type,peel) func(7,type,peel) \(\backslash\)}}
\DoxyCodeLine{184 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{185 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(rhsV\#\#peel); \(\backslash\)}}
\DoxyCodeLine{186 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{187 }
\DoxyCodeLine{188 \textcolor{preprocessor}{\#define MICRO\_MMA\_UNROLL\_TYPE\_PEEL(func, func2, type) \(\backslash\)}}
\DoxyCodeLine{189 \textcolor{preprocessor}{  type rhsV0, rhsV1, rhsV2, rhsV3, rhsV4, rhsV5, rhsV6, rhsV7, rhsV8, rhsV9; \(\backslash\)}}
\DoxyCodeLine{190 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,0); MICRO\_MMA\_TYPE\_PEEL(func,func2,type,1); \(\backslash\)}}
\DoxyCodeLine{191 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,2); MICRO\_MMA\_TYPE\_PEEL(func,func2,type,3); \(\backslash\)}}
\DoxyCodeLine{192 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,4); MICRO\_MMA\_TYPE\_PEEL(func,func2,type,5); \(\backslash\)}}
\DoxyCodeLine{193 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,6); MICRO\_MMA\_TYPE\_PEEL(func,func2,type,7); \(\backslash\)}}
\DoxyCodeLine{194 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,8); MICRO\_MMA\_TYPE\_PEEL(func,func2,type,9);}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196 \textcolor{preprocessor}{\#define MICRO\_MMA\_UNROLL\_TYPE\_ONE(func, func2, type) \(\backslash\)}}
\DoxyCodeLine{197 \textcolor{preprocessor}{  type rhsV0; \(\backslash\)}}
\DoxyCodeLine{198 \textcolor{preprocessor}{  MICRO\_MMA\_TYPE\_PEEL(func,func2,type,0);}}
\DoxyCodeLine{199 }
\DoxyCodeLine{200 \textcolor{preprocessor}{\#define MICRO\_MMA\_ONE\_PEEL \(\backslash\)}}
\DoxyCodeLine{201 \textcolor{preprocessor}{  if (sizeof(Scalar) == sizeof(float)) \{ \(\backslash\)}}
\DoxyCodeLine{202 \textcolor{preprocessor}{    MICRO\_MMA\_UNROLL\_TYPE\_PEEL(MICRO\_MMA\_WORK\_ONE, MICRO\_MMA\_LOAD\_ONE, RhsPacket); \(\backslash\)}}
\DoxyCodeLine{203 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{204 \textcolor{preprocessor}{    MICRO\_MMA\_UNROLL\_TYPE\_PEEL(MICRO\_MMA\_WORK\_ONE, MICRO\_MMA\_LOAD\_ONE, \_\_vector\_pair); \(\backslash\)}}
\DoxyCodeLine{205 \textcolor{preprocessor}{  \} \(\backslash\)}}
\DoxyCodeLine{206 \textcolor{preprocessor}{  rhs\_ptr += (accRows * PEEL\_MMA);}}
\DoxyCodeLine{207 }
\DoxyCodeLine{208 \textcolor{preprocessor}{\#define MICRO\_MMA\_ONE \(\backslash\)}}
\DoxyCodeLine{209 \textcolor{preprocessor}{  if (sizeof(Scalar) == sizeof(float)) \{ \(\backslash\)}}
\DoxyCodeLine{210 \textcolor{preprocessor}{    MICRO\_MMA\_UNROLL\_TYPE\_ONE(MICRO\_MMA\_WORK\_ONE, MICRO\_MMA\_LOAD\_ONE, RhsPacket); \(\backslash\)}}
\DoxyCodeLine{211 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{212 \textcolor{preprocessor}{    MICRO\_MMA\_UNROLL\_TYPE\_ONE(MICRO\_MMA\_WORK\_ONE, MICRO\_MMA\_LOAD\_ONE, \_\_vector\_pair); \(\backslash\)}}
\DoxyCodeLine{213 \textcolor{preprocessor}{  \} \(\backslash\)}}
\DoxyCodeLine{214 \textcolor{preprocessor}{  rhs\_ptr += accRows;}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 \textcolor{preprocessor}{\#define MICRO\_MMA\_DST\_PTR\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{217 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{218 \textcolor{preprocessor}{    bsetzeroMMA<Scalar, Packet>(\&accZero\#\#iter); \(\backslash\)}}
\DoxyCodeLine{219 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{220 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(accZero\#\#iter); \(\backslash\)}}
\DoxyCodeLine{221 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{preprocessor}{\#define MICRO\_MMA\_DST\_PTR MICRO\_MMA\_UNROLL(MICRO\_MMA\_DST\_PTR\_ONE)}}
\DoxyCodeLine{224 }
\DoxyCodeLine{225 \textcolor{preprocessor}{\#define MICRO\_MMA\_SRC\_PTR\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{226 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{227 \textcolor{preprocessor}{    lhs\_ptr\#\#iter = lhs\_base + ( (row/accCols) + iter )*strideA*accCols + accCols*offsetA; \(\backslash\)}}
\DoxyCodeLine{228 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{229 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhs\_ptr\#\#iter); \(\backslash\)}}
\DoxyCodeLine{230 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232 \textcolor{preprocessor}{\#define MICRO\_MMA\_SRC\_PTR MICRO\_MMA\_UNROLL(MICRO\_MMA\_SRC\_PTR\_ONE)}}
\DoxyCodeLine{233 }
\DoxyCodeLine{234 \textcolor{preprocessor}{\#define MICRO\_MMA\_PREFETCH\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{235 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{236 \textcolor{preprocessor}{    EIGEN\_POWER\_PREFETCH(lhs\_ptr\#\#iter); \(\backslash\)}}
\DoxyCodeLine{237 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{238 }
\DoxyCodeLine{239 \textcolor{preprocessor}{\#define MICRO\_MMA\_PREFETCH MICRO\_MMA\_UNROLL(MICRO\_MMA\_PREFETCH\_ONE)}}
\DoxyCodeLine{240 }
\DoxyCodeLine{241 \textcolor{preprocessor}{\#define MICRO\_MMA\_STORE\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{242 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{243 \textcolor{preprocessor}{    storeAccumulator<DataMapper, Index, Packet, accCols>(row + iter*accCols, col, res, pAlpha, \&accZero\#\#iter); \(\backslash\)}}
\DoxyCodeLine{244 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{245 }
\DoxyCodeLine{246 \textcolor{preprocessor}{\#define MICRO\_MMA\_STORE MICRO\_MMA\_UNROLL(MICRO\_MMA\_STORE\_ONE)}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} unroll\_factor, \textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} RhsPacket, \textcolor{keyword}{typename} DataMapper, \textcolor{keyword}{typename} Index, const Index accRows, const Index accCols>}
\DoxyCodeLine{249 EIGEN\_STRONG\_INLINE \textcolor{keywordtype}{void} gemm\_unrolled\_MMA\_iteration(}
\DoxyCodeLine{250   \textcolor{keyword}{const} DataMapper\& res,}
\DoxyCodeLine{251   \textcolor{keyword}{const} Scalar* lhs\_base,}
\DoxyCodeLine{252   \textcolor{keyword}{const} Scalar* rhs\_base,}
\DoxyCodeLine{253   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} depth,}
\DoxyCodeLine{254   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideA,}
\DoxyCodeLine{255   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetA,}
\DoxyCodeLine{256   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\& row,}
\DoxyCodeLine{257   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} col,}
\DoxyCodeLine{258   \textcolor{keyword}{const} Packet\& pAlpha)}
\DoxyCodeLine{259 \{}
\DoxyCodeLine{260   \textcolor{keyword}{const} Scalar* rhs\_ptr = rhs\_base;}
\DoxyCodeLine{261   \textcolor{keyword}{const} Scalar* lhs\_ptr0 = NULL, * lhs\_ptr1 = NULL, * lhs\_ptr2 = NULL, * lhs\_ptr3 = NULL, * lhs\_ptr4 = NULL, * lhs\_ptr5 = NULL, * lhs\_ptr6 = NULL, * lhs\_ptr7 = NULL;}
\DoxyCodeLine{262   \_\_vector\_quad accZero0, accZero1, accZero2, accZero3, accZero4, accZero5, accZero6, accZero7;}
\DoxyCodeLine{263 }
\DoxyCodeLine{264   MICRO\_MMA\_SRC\_PTR}
\DoxyCodeLine{265   MICRO\_MMA\_DST\_PTR}
\DoxyCodeLine{266 }
\DoxyCodeLine{267   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = 0;}
\DoxyCodeLine{268   \textcolor{keywordflow}{for}(; k + PEEL\_MMA <= depth; k+= PEEL\_MMA)}
\DoxyCodeLine{269   \{}
\DoxyCodeLine{270     EIGEN\_POWER\_PREFETCH(rhs\_ptr);}
\DoxyCodeLine{271     MICRO\_MMA\_PREFETCH}
\DoxyCodeLine{272     MICRO\_MMA\_ONE\_PEEL}
\DoxyCodeLine{273   \}}
\DoxyCodeLine{274   \textcolor{keywordflow}{for}(; k < depth; k++)}
\DoxyCodeLine{275   \{}
\DoxyCodeLine{276     MICRO\_MMA\_ONE}
\DoxyCodeLine{277   \}}
\DoxyCodeLine{278   MICRO\_MMA\_STORE}
\DoxyCodeLine{279 }
\DoxyCodeLine{280   row += unroll\_factor*accCols;}
\DoxyCodeLine{281 \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{283 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Index, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} RhsPacket, \textcolor{keyword}{typename} DataMapper, const Index accRows, const Index accCols>}
\DoxyCodeLine{284 \textcolor{keywordtype}{void} gemmMMA(\textcolor{keyword}{const} DataMapper\& res, \textcolor{keyword}{const} Scalar* blockA, \textcolor{keyword}{const} Scalar* blockB, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} rows, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} depth, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} cols, Scalar alpha, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideA, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideB, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetA, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetB)}
\DoxyCodeLine{285 \{}
\DoxyCodeLine{286       \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} remaining\_rows = rows \% accCols;}
\DoxyCodeLine{287       \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} remaining\_cols = cols \% accRows;}
\DoxyCodeLine{288 }
\DoxyCodeLine{289       \textcolor{keywordflow}{if}( strideA == -\/1 ) strideA = depth;}
\DoxyCodeLine{290       \textcolor{keywordflow}{if}( strideB == -\/1 ) strideB = depth;}
\DoxyCodeLine{291 }
\DoxyCodeLine{292       \textcolor{keyword}{const} Packet pAlpha = pset1<Packet>(alpha);}
\DoxyCodeLine{293       \textcolor{keyword}{const} Packet pMask  = bmask<Packet>((\textcolor{keyword}{const} \textcolor{keywordtype}{int})(remaining\_rows));}
\DoxyCodeLine{294 }
\DoxyCodeLine{295       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} col = 0;}
\DoxyCodeLine{296       \textcolor{keywordflow}{for}(; col + accRows <= cols; col += accRows)}
\DoxyCodeLine{297       \{}
\DoxyCodeLine{298         \textcolor{keyword}{const} Scalar* rhs\_base = blockB + col*strideB + accRows*offsetB;}
\DoxyCodeLine{299         \textcolor{keyword}{const} Scalar* lhs\_base = blockA;}
\DoxyCodeLine{300 }
\DoxyCodeLine{301         \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} row = 0;}
\DoxyCodeLine{302 \textcolor{preprocessor}{\#define MAX\_MMA\_UNROLL 7}}
\DoxyCodeLine{303         \textcolor{keywordflow}{while}(row + MAX\_MMA\_UNROLL*accCols <= rows) \{}
\DoxyCodeLine{304           gemm\_unrolled\_MMA\_iteration<MAX\_MMA\_UNROLL, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{305         \}}
\DoxyCodeLine{306         \textcolor{keywordflow}{switch}( (rows-\/row)/accCols ) \{}
\DoxyCodeLine{307 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 7}}
\DoxyCodeLine{308           \textcolor{keywordflow}{case} 7:}
\DoxyCodeLine{309             gemm\_unrolled\_MMA\_iteration<7, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{310             \textcolor{keywordflow}{break};}
\DoxyCodeLine{311 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{312 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 6}}
\DoxyCodeLine{313           \textcolor{keywordflow}{case} 6:}
\DoxyCodeLine{314             gemm\_unrolled\_MMA\_iteration<6, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{315             \textcolor{keywordflow}{break};}
\DoxyCodeLine{316 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{317 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 5}}
\DoxyCodeLine{318           \textcolor{keywordflow}{case} 5:}
\DoxyCodeLine{319             gemm\_unrolled\_MMA\_iteration<5, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{320             \textcolor{keywordflow}{break};}
\DoxyCodeLine{321 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{322 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 4}}
\DoxyCodeLine{323           \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{324             gemm\_unrolled\_MMA\_iteration<4, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{325             \textcolor{keywordflow}{break};}
\DoxyCodeLine{326 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{327 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 3}}
\DoxyCodeLine{328           \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{329             gemm\_unrolled\_MMA\_iteration<3, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{330             \textcolor{keywordflow}{break};}
\DoxyCodeLine{331 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{332 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 2}}
\DoxyCodeLine{333           \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{334             gemm\_unrolled\_MMA\_iteration<2, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{335             \textcolor{keywordflow}{break};}
\DoxyCodeLine{336 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{337 \textcolor{preprocessor}{\#if MAX\_MMA\_UNROLL > 1}}
\DoxyCodeLine{338           \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{339             gemm\_unrolled\_MMA\_iteration<1, Scalar, Packet, RhsPacket, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, pAlpha);}
\DoxyCodeLine{340             \textcolor{keywordflow}{break};}
\DoxyCodeLine{341 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{342           \textcolor{keywordflow}{default}:}
\DoxyCodeLine{343             \textcolor{keywordflow}{break};}
\DoxyCodeLine{344         \}}
\DoxyCodeLine{345 \textcolor{preprocessor}{\#undef MAX\_MMA\_UNROLL}}
\DoxyCodeLine{346 }
\DoxyCodeLine{347         \textcolor{keywordflow}{if}(remaining\_rows > 0)}
\DoxyCodeLine{348         \{}
\DoxyCodeLine{349           gemm\_extra\_row<Scalar, Packet, DataMapper, Index, accRows, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, rows, cols, remaining\_rows, pAlpha, pMask);}
\DoxyCodeLine{350         \}}
\DoxyCodeLine{351       \}}
\DoxyCodeLine{352 }
\DoxyCodeLine{353       \textcolor{keywordflow}{if}(remaining\_cols > 0)}
\DoxyCodeLine{354       \{}
\DoxyCodeLine{355         \textcolor{keyword}{const} Scalar* rhs\_base = blockB + col*strideB + remaining\_cols*offsetB;}
\DoxyCodeLine{356         \textcolor{keyword}{const} Scalar* lhs\_base = blockA;}
\DoxyCodeLine{357 }
\DoxyCodeLine{358         \textcolor{keywordflow}{for}(; col < cols; col++)}
\DoxyCodeLine{359         \{}
\DoxyCodeLine{360           \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} row = 0;}
\DoxyCodeLine{361 }
\DoxyCodeLine{362           gemm\_unrolled\_col<Scalar, Packet, DataMapper, Index, accCols>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, rows, col, remaining\_cols, pAlpha);}
\DoxyCodeLine{363 }
\DoxyCodeLine{364           \textcolor{keywordflow}{if} (remaining\_rows > 0)}
\DoxyCodeLine{365           \{}
\DoxyCodeLine{366             gemm\_extra\_col<Scalar, Packet, DataMapper, Index, accRows>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, row, col, remaining\_rows, remaining\_cols, pAlpha);}
\DoxyCodeLine{367           \}}
\DoxyCodeLine{368           rhs\_base++;}
\DoxyCodeLine{369         \}}
\DoxyCodeLine{370       \}}
\DoxyCodeLine{371 \}}
\DoxyCodeLine{372 }
\DoxyCodeLine{373 \textcolor{preprocessor}{\#define accColsC (accCols / 2)}}
\DoxyCodeLine{374 \textcolor{preprocessor}{\#define advanceRows ((LhsIsReal) ? 1 : 2)}}
\DoxyCodeLine{375 \textcolor{preprocessor}{\#define advanceCols ((RhsIsReal) ? 1 : 2)}}
\DoxyCodeLine{376 }
\DoxyCodeLine{377 \textcolor{comment}{// PEEL\_COMPLEX\_MMA loop factor.}}
\DoxyCodeLine{378 \textcolor{preprocessor}{\#define PEEL\_COMPLEX\_MMA 7}}
\DoxyCodeLine{379 }
\DoxyCodeLine{380 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_UNROLL(func) \(\backslash\)}}
\DoxyCodeLine{381 \textcolor{preprocessor}{  func(0) func(1) func(2) func(3) func(4)}}
\DoxyCodeLine{382 }
\DoxyCodeLine{383 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_LOAD\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{384 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{385 \textcolor{preprocessor}{    lhsV\#\#iter = ploadLhs<Scalar, Packet>(lhs\_ptr\_real\#\#iter); \(\backslash\)}}
\DoxyCodeLine{386 \textcolor{preprocessor}{    lhs\_ptr\_real\#\#iter += accCols; \(\backslash\)}}
\DoxyCodeLine{387 \textcolor{preprocessor}{    if(!LhsIsReal) \{ \(\backslash\)}}
\DoxyCodeLine{388 \textcolor{preprocessor}{      lhsVi\#\#iter = ploadLhs<Scalar, Packet>(lhs\_ptr\_imag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{389 \textcolor{preprocessor}{      lhs\_ptr\_imag\#\#iter += accCols; \(\backslash\)}}
\DoxyCodeLine{390 \textcolor{preprocessor}{    \} else \{ \(\backslash\)}}
\DoxyCodeLine{391 \textcolor{preprocessor}{      EIGEN\_UNUSED\_VARIABLE(lhsVi\#\#iter); \(\backslash\)}}
\DoxyCodeLine{392 \textcolor{preprocessor}{    \} \(\backslash\)}}
\DoxyCodeLine{393 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{394 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhsV\#\#iter); \(\backslash\)}}
\DoxyCodeLine{395 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhsVi\#\#iter); \(\backslash\)}}
\DoxyCodeLine{396 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{397 }
\DoxyCodeLine{398 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_WORK\_ONE(iter, type, peel) \(\backslash\)}}
\DoxyCodeLine{399 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{400 \textcolor{preprocessor}{    pgercMMA<Scalar, Packet, type, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(\&accReal\#\#iter, \&accImag\#\#iter, lhsV\#\#iter, lhsVi\#\#iter, rhsV\#\#peel, rhsVi\#\#peel); \(\backslash\)}}
\DoxyCodeLine{401 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{402 }
\DoxyCodeLine{403 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func, func2, type, peel) \(\backslash\)}}
\DoxyCodeLine{404 \textcolor{preprocessor}{  if (PEEL\_COMPLEX\_MMA > peel) \{ \(\backslash\)}}
\DoxyCodeLine{405 \textcolor{preprocessor}{    Packet lhsV0, lhsV1, lhsV2, lhsV3, lhsV4; \(\backslash\)}}
\DoxyCodeLine{406 \textcolor{preprocessor}{    Packet lhsVi0, lhsVi1, lhsVi2, lhsVi3, lhsVi4; \(\backslash\)}}
\DoxyCodeLine{407 \textcolor{preprocessor}{    ploadRhsMMA<Scalar, type>(rhs\_ptr\_real + (accRows * peel), rhsV\#\#peel); \(\backslash\)}}
\DoxyCodeLine{408 \textcolor{preprocessor}{    if(!RhsIsReal) \{ \(\backslash\)}}
\DoxyCodeLine{409 \textcolor{preprocessor}{      ploadRhsMMA<Scalar, type>(rhs\_ptr\_imag + (accRows * peel), rhsVi\#\#peel); \(\backslash\)}}
\DoxyCodeLine{410 \textcolor{preprocessor}{    \} else \{ \(\backslash\)}}
\DoxyCodeLine{411 \textcolor{preprocessor}{      EIGEN\_UNUSED\_VARIABLE(rhsVi\#\#peel); \(\backslash\)}}
\DoxyCodeLine{412 \textcolor{preprocessor}{    \} \(\backslash\)}}
\DoxyCodeLine{413 \textcolor{preprocessor}{    MICRO\_COMPLEX\_MMA\_UNROLL(func2); \(\backslash\)}}
\DoxyCodeLine{414 \textcolor{preprocessor}{    func(0,type,peel) func(1,type,peel) func(2,type,peel) func(3,type,peel) func(4,type,peel) \(\backslash\)}}
\DoxyCodeLine{415 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{416 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(rhsV\#\#peel); \(\backslash\)}}
\DoxyCodeLine{417 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(rhsVi\#\#peel); \(\backslash\)}}
\DoxyCodeLine{418 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{419 }
\DoxyCodeLine{420 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_PEEL(func, func2, type) \(\backslash\)}}
\DoxyCodeLine{421 \textcolor{preprocessor}{  type rhsV0, rhsV1, rhsV2, rhsV3, rhsV4, rhsV5, rhsV6, rhsV7, rhsV8, rhsV9; \(\backslash\)}}
\DoxyCodeLine{422 \textcolor{preprocessor}{  type rhsVi0, rhsVi1, rhsVi2, rhsVi3, rhsVi4, rhsVi5, rhsVi6, rhsVi7, rhsVi8, rhsVi9; \(\backslash\)}}
\DoxyCodeLine{423 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,0); MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,1); \(\backslash\)}}
\DoxyCodeLine{424 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,2); MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,3); \(\backslash\)}}
\DoxyCodeLine{425 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,4); MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,5); \(\backslash\)}}
\DoxyCodeLine{426 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,6); MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,7); \(\backslash\)}}
\DoxyCodeLine{427 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,8); MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,9);}}
\DoxyCodeLine{428 }
\DoxyCodeLine{429 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_ONE(func, func2, type) \(\backslash\)}}
\DoxyCodeLine{430 \textcolor{preprocessor}{  type rhsV0, rhsVi0; \(\backslash\)}}
\DoxyCodeLine{431 \textcolor{preprocessor}{  MICRO\_COMPLEX\_MMA\_TYPE\_PEEL(func,func2,type,0);}}
\DoxyCodeLine{432 }
\DoxyCodeLine{433 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_ONE\_PEEL \(\backslash\)}}
\DoxyCodeLine{434 \textcolor{preprocessor}{  if (sizeof(Scalar) == sizeof(float)) \{ \(\backslash\)}}
\DoxyCodeLine{435 \textcolor{preprocessor}{    MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_PEEL(MICRO\_COMPLEX\_MMA\_WORK\_ONE, MICRO\_COMPLEX\_MMA\_LOAD\_ONE, RhsPacket); \(\backslash\)}}
\DoxyCodeLine{436 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{437 \textcolor{preprocessor}{    MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_PEEL(MICRO\_COMPLEX\_MMA\_WORK\_ONE, MICRO\_COMPLEX\_MMA\_LOAD\_ONE, \_\_vector\_pair); \(\backslash\)}}
\DoxyCodeLine{438 \textcolor{preprocessor}{  \} \(\backslash\)}}
\DoxyCodeLine{439 \textcolor{preprocessor}{  rhs\_ptr\_real += (accRows * PEEL\_COMPLEX\_MMA); \(\backslash\)}}
\DoxyCodeLine{440 \textcolor{preprocessor}{  if(!RhsIsReal) rhs\_ptr\_imag += (accRows * PEEL\_COMPLEX\_MMA);}}
\DoxyCodeLine{441 }
\DoxyCodeLine{442 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_ONE \(\backslash\)}}
\DoxyCodeLine{443 \textcolor{preprocessor}{  if (sizeof(Scalar) == sizeof(float)) \{ \(\backslash\)}}
\DoxyCodeLine{444 \textcolor{preprocessor}{    MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_ONE(MICRO\_COMPLEX\_MMA\_WORK\_ONE, MICRO\_COMPLEX\_MMA\_LOAD\_ONE, RhsPacket); \(\backslash\)}}
\DoxyCodeLine{445 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{446 \textcolor{preprocessor}{    MICRO\_COMPLEX\_MMA\_UNROLL\_TYPE\_ONE(MICRO\_COMPLEX\_MMA\_WORK\_ONE, MICRO\_COMPLEX\_MMA\_LOAD\_ONE, \_\_vector\_pair); \(\backslash\)}}
\DoxyCodeLine{447 \textcolor{preprocessor}{  \} \(\backslash\)}}
\DoxyCodeLine{448 \textcolor{preprocessor}{  rhs\_ptr\_real += accRows; \(\backslash\)}}
\DoxyCodeLine{449 \textcolor{preprocessor}{  if(!RhsIsReal) rhs\_ptr\_imag += accRows;}}
\DoxyCodeLine{450 }
\DoxyCodeLine{451 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_DST\_PTR\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{452 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{453 \textcolor{preprocessor}{    bsetzeroMMA<Scalar, Packet>(\&accReal\#\#iter); \(\backslash\)}}
\DoxyCodeLine{454 \textcolor{preprocessor}{    bsetzeroMMA<Scalar, Packet>(\&accImag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{455 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{456 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(accReal\#\#iter); \(\backslash\)}}
\DoxyCodeLine{457 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(accImag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{458 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{459 }
\DoxyCodeLine{460 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_DST\_PTR MICRO\_COMPLEX\_MMA\_UNROLL(MICRO\_COMPLEX\_MMA\_DST\_PTR\_ONE)}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_SRC\_PTR\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{463 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{464 \textcolor{preprocessor}{    lhs\_ptr\_real\#\#iter = lhs\_base + ( ((advanceRows*row)/accCols) + iter*advanceRows )*strideA*accCols + accCols*offsetA; \(\backslash\)}}
\DoxyCodeLine{465 \textcolor{preprocessor}{    if(!LhsIsReal) \{ \(\backslash\)}}
\DoxyCodeLine{466 \textcolor{preprocessor}{      lhs\_ptr\_imag\#\#iter = lhs\_ptr\_real\#\#iter + accCols*strideA; \(\backslash\)}}
\DoxyCodeLine{467 \textcolor{preprocessor}{    \} else \{ \(\backslash\)}}
\DoxyCodeLine{468 \textcolor{preprocessor}{      EIGEN\_UNUSED\_VARIABLE(lhs\_ptr\_imag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{469 \textcolor{preprocessor}{    \} \(\backslash\)}}
\DoxyCodeLine{470 \textcolor{preprocessor}{  \} else \{ \(\backslash\)}}
\DoxyCodeLine{471 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhs\_ptr\_real\#\#iter); \(\backslash\)}}
\DoxyCodeLine{472 \textcolor{preprocessor}{    EIGEN\_UNUSED\_VARIABLE(lhs\_ptr\_imag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{473 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{474 }
\DoxyCodeLine{475 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_SRC\_PTR MICRO\_COMPLEX\_MMA\_UNROLL(MICRO\_COMPLEX\_MMA\_SRC\_PTR\_ONE)}}
\DoxyCodeLine{476 }
\DoxyCodeLine{477 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_PREFETCH\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{478 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{479 \textcolor{preprocessor}{    EIGEN\_POWER\_PREFETCH(lhs\_ptr\_real\#\#iter); \(\backslash\)}}
\DoxyCodeLine{480 \textcolor{preprocessor}{    if(!LhsIsReal) \{ \(\backslash\)}}
\DoxyCodeLine{481 \textcolor{preprocessor}{      EIGEN\_POWER\_PREFETCH(lhs\_ptr\_imag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{482 \textcolor{preprocessor}{    \} \(\backslash\)}}
\DoxyCodeLine{483 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{484 }
\DoxyCodeLine{485 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_PREFETCH MICRO\_COMPLEX\_MMA\_UNROLL(MICRO\_COMPLEX\_MMA\_PREFETCH\_ONE)}}
\DoxyCodeLine{486 }
\DoxyCodeLine{487 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_STORE\_ONE(iter) \(\backslash\)}}
\DoxyCodeLine{488 \textcolor{preprocessor}{  if (unroll\_factor > iter) \{ \(\backslash\)}}
\DoxyCodeLine{489 \textcolor{preprocessor}{    storeComplexAccumulator<DataMapper, Index, Packet, Packetc, accColsC, 0>(row + iter*accCols, col, res, pAlphaReal, pAlphaImag, \&accReal\#\#iter, \&accImag\#\#iter); \(\backslash\)}}
\DoxyCodeLine{490 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{491 }
\DoxyCodeLine{492 \textcolor{preprocessor}{\#define MICRO\_COMPLEX\_MMA\_STORE MICRO\_COMPLEX\_MMA\_UNROLL(MICRO\_COMPLEX\_MMA\_STORE\_ONE)}}
\DoxyCodeLine{493 }
\DoxyCodeLine{494 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} unroll\_factor, \textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} Packetc, \textcolor{keyword}{typename} RhsPacket, \textcolor{keyword}{typename} DataMapper, \textcolor{keyword}{typename} Index, const Index accRows, const Index accCols, \textcolor{keywordtype}{bool} ConjugateLhs, \textcolor{keywordtype}{bool} ConjugateRhs, \textcolor{keywordtype}{bool} LhsIsReal, \textcolor{keywordtype}{bool} RhsIsReal>}
\DoxyCodeLine{495 EIGEN\_STRONG\_INLINE \textcolor{keywordtype}{void} gemm\_complex\_unrolled\_MMA\_iteration(}
\DoxyCodeLine{496   \textcolor{keyword}{const} DataMapper\& res,}
\DoxyCodeLine{497   \textcolor{keyword}{const} Scalar* lhs\_base,}
\DoxyCodeLine{498   \textcolor{keyword}{const} Scalar* rhs\_base,}
\DoxyCodeLine{499   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} depth,}
\DoxyCodeLine{500   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideA,}
\DoxyCodeLine{501   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetA,}
\DoxyCodeLine{502   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideB,}
\DoxyCodeLine{503   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\& row,}
\DoxyCodeLine{504   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} col,}
\DoxyCodeLine{505   \textcolor{keyword}{const} Packet\& pAlphaReal,}
\DoxyCodeLine{506   \textcolor{keyword}{const} Packet\& pAlphaImag)}
\DoxyCodeLine{507 \{}
\DoxyCodeLine{508   \textcolor{keyword}{const} Scalar* rhs\_ptr\_real = rhs\_base;}
\DoxyCodeLine{509   \textcolor{keyword}{const} Scalar* rhs\_ptr\_imag;}
\DoxyCodeLine{510   \textcolor{keywordflow}{if}(!RhsIsReal) \{}
\DoxyCodeLine{511     rhs\_ptr\_imag = rhs\_base + accRows*strideB;}
\DoxyCodeLine{512   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{513     EIGEN\_UNUSED\_VARIABLE(rhs\_ptr\_imag);}
\DoxyCodeLine{514   \}}
\DoxyCodeLine{515   \textcolor{keyword}{const} Scalar* lhs\_ptr\_real0 = NULL, * lhs\_ptr\_imag0 = NULL, * lhs\_ptr\_real1 = NULL, * lhs\_ptr\_imag1 = NULL;}
\DoxyCodeLine{516   \textcolor{keyword}{const} Scalar* lhs\_ptr\_real2 = NULL, * lhs\_ptr\_imag2 = NULL, * lhs\_ptr\_real3 = NULL, * lhs\_ptr\_imag3 = NULL;}
\DoxyCodeLine{517   \textcolor{keyword}{const} Scalar* lhs\_ptr\_real4 = NULL, * lhs\_ptr\_imag4 = NULL;}
\DoxyCodeLine{518   \_\_vector\_quad accReal0, accImag0, accReal1, accImag1, accReal2, accImag2, accReal3, accImag3, accReal4, accImag4;}
\DoxyCodeLine{519 }
\DoxyCodeLine{520   MICRO\_COMPLEX\_MMA\_SRC\_PTR}
\DoxyCodeLine{521   MICRO\_COMPLEX\_MMA\_DST\_PTR}
\DoxyCodeLine{522 }
\DoxyCodeLine{523   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = 0;}
\DoxyCodeLine{524   \textcolor{keywordflow}{for}(; k + PEEL\_COMPLEX\_MMA <= depth; k+= PEEL\_COMPLEX\_MMA)}
\DoxyCodeLine{525   \{}
\DoxyCodeLine{526     EIGEN\_POWER\_PREFETCH(rhs\_ptr\_real);}
\DoxyCodeLine{527     \textcolor{keywordflow}{if}(!RhsIsReal) \{}
\DoxyCodeLine{528       EIGEN\_POWER\_PREFETCH(rhs\_ptr\_imag);}
\DoxyCodeLine{529     \}}
\DoxyCodeLine{530     MICRO\_COMPLEX\_MMA\_PREFETCH}
\DoxyCodeLine{531     MICRO\_COMPLEX\_MMA\_ONE\_PEEL}
\DoxyCodeLine{532   \}}
\DoxyCodeLine{533   \textcolor{keywordflow}{for}(; k < depth; k++)}
\DoxyCodeLine{534   \{}
\DoxyCodeLine{535     MICRO\_COMPLEX\_MMA\_ONE}
\DoxyCodeLine{536   \}}
\DoxyCodeLine{537   MICRO\_COMPLEX\_MMA\_STORE}
\DoxyCodeLine{538 }
\DoxyCodeLine{539   row += unroll\_factor*accCols;}
\DoxyCodeLine{540 \}}
\DoxyCodeLine{541 }
\DoxyCodeLine{542 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsScalar, \textcolor{keyword}{typename} RhsScalar, \textcolor{keyword}{typename} Scalarc, \textcolor{keyword}{typename} Scalar, \textcolor{keyword}{typename} Index, \textcolor{keyword}{typename} Packet, \textcolor{keyword}{typename} Packetc, \textcolor{keyword}{typename} RhsPacket, \textcolor{keyword}{typename} DataMapper, const Index accRows, const Index accCols, \textcolor{keywordtype}{bool} ConjugateLhs, \textcolor{keywordtype}{bool} ConjugateRhs, \textcolor{keywordtype}{bool} LhsIsReal, \textcolor{keywordtype}{bool} RhsIsReal>}
\DoxyCodeLine{543 \textcolor{keywordtype}{void} gemm\_complexMMA(\textcolor{keyword}{const} DataMapper\& res, \textcolor{keyword}{const} LhsScalar* blockAc, \textcolor{keyword}{const} RhsScalar* blockBc, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} rows, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} depth, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} cols, Scalarc alpha, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideA, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} strideB, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetA, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} offsetB)}
\DoxyCodeLine{544 \{}
\DoxyCodeLine{545       \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} remaining\_rows = rows \% accCols;}
\DoxyCodeLine{546       \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} remaining\_cols = cols \% accRows;}
\DoxyCodeLine{547 }
\DoxyCodeLine{548       \textcolor{keywordflow}{if}( strideA == -\/1 ) strideA = depth;}
\DoxyCodeLine{549       \textcolor{keywordflow}{if}( strideB == -\/1 ) strideB = depth;}
\DoxyCodeLine{550 }
\DoxyCodeLine{551       \textcolor{keyword}{const} Packet pAlphaReal = pset1<Packet>(alpha.real());}
\DoxyCodeLine{552       \textcolor{keyword}{const} Packet pAlphaImag = pset1<Packet>(alpha.imag());}
\DoxyCodeLine{553       \textcolor{keyword}{const} Packet pMask = bmask<Packet>((\textcolor{keyword}{const} \textcolor{keywordtype}{int})(remaining\_rows));}
\DoxyCodeLine{554 }
\DoxyCodeLine{555       \textcolor{keyword}{const} Scalar* blockA = (Scalar *) blockAc;}
\DoxyCodeLine{556       \textcolor{keyword}{const} Scalar* blockB = (Scalar *) blockBc;}
\DoxyCodeLine{557 }
\DoxyCodeLine{558       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} col = 0;}
\DoxyCodeLine{559       \textcolor{keywordflow}{for}(; col + accRows <= cols; col += accRows)}
\DoxyCodeLine{560       \{}
\DoxyCodeLine{561         \textcolor{keyword}{const} Scalar* rhs\_base = blockB + advanceCols*col*strideB + accRows*offsetB;}
\DoxyCodeLine{562         \textcolor{keyword}{const} Scalar* lhs\_base = blockA;}
\DoxyCodeLine{563         \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} row = 0;}
\DoxyCodeLine{564 }
\DoxyCodeLine{565 \textcolor{preprocessor}{\#define MAX\_COMPLEX\_MMA\_UNROLL 4}}
\DoxyCodeLine{566         \textcolor{keywordflow}{while}(row + MAX\_COMPLEX\_MMA\_UNROLL*accCols <= rows) \{}
\DoxyCodeLine{567           gemm\_complex\_unrolled\_MMA\_iteration<MAX\_COMPLEX\_MMA\_UNROLL, Scalar, Packet, Packetc, RhsPacket, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{568         \}}
\DoxyCodeLine{569         \textcolor{keywordflow}{switch}( (rows-\/row)/accCols ) \{}
\DoxyCodeLine{570 \textcolor{preprocessor}{\#if MAX\_COMPLEX\_MMA\_UNROLL > 4}}
\DoxyCodeLine{571           \textcolor{keywordflow}{case} 4:}
\DoxyCodeLine{572             gemm\_complex\_unrolled\_MMA\_iteration<4, Scalar, Packet, Packetc, RhsPacket, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{573             \textcolor{keywordflow}{break};}
\DoxyCodeLine{574 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{575 \textcolor{preprocessor}{\#if MAX\_COMPLEX\_MMA\_UNROLL > 3}}
\DoxyCodeLine{576           \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{577             gemm\_complex\_unrolled\_MMA\_iteration<3, Scalar, Packet, Packetc, RhsPacket, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{578             \textcolor{keywordflow}{break};}
\DoxyCodeLine{579 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{580 \textcolor{preprocessor}{\#if MAX\_COMPLEX\_MMA\_UNROLL > 2}}
\DoxyCodeLine{581           \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{582             gemm\_complex\_unrolled\_MMA\_iteration<2, Scalar, Packet, Packetc, RhsPacket, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{583             \textcolor{keywordflow}{break};}
\DoxyCodeLine{584 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{585 \textcolor{preprocessor}{\#if MAX\_COMPLEX\_MMA\_UNROLL > 1}}
\DoxyCodeLine{586           \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{587             gemm\_complex\_unrolled\_MMA\_iteration<1, Scalar, Packet, Packetc, RhsPacket, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{588             \textcolor{keywordflow}{break};}
\DoxyCodeLine{589 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{590           \textcolor{keywordflow}{default}:}
\DoxyCodeLine{591             \textcolor{keywordflow}{break};}
\DoxyCodeLine{592         \}}
\DoxyCodeLine{593 \textcolor{preprocessor}{\#undef MAX\_COMPLEX\_MMA\_UNROLL}}
\DoxyCodeLine{594 }
\DoxyCodeLine{595         \textcolor{keywordflow}{if}(remaining\_rows > 0)}
\DoxyCodeLine{596         \{}
\DoxyCodeLine{597           gemm\_complex\_extra\_row<Scalar, Packet, Packetc, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, rows, cols, remaining\_rows, pAlphaReal, pAlphaImag, pMask);}
\DoxyCodeLine{598         \}}
\DoxyCodeLine{599       \}}
\DoxyCodeLine{600 }
\DoxyCodeLine{601       \textcolor{keywordflow}{if}(remaining\_cols > 0)}
\DoxyCodeLine{602       \{}
\DoxyCodeLine{603         \textcolor{keyword}{const} Scalar* rhs\_base = blockB + advanceCols*col*strideB + remaining\_cols*offsetB;}
\DoxyCodeLine{604         \textcolor{keyword}{const} Scalar* lhs\_base = blockA;}
\DoxyCodeLine{605 }
\DoxyCodeLine{606         \textcolor{keywordflow}{for}(; col < cols; col++)}
\DoxyCodeLine{607         \{}
\DoxyCodeLine{608           \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} row = 0;}
\DoxyCodeLine{609 }
\DoxyCodeLine{610           gemm\_complex\_unrolled\_col<Scalar, Packet, Packetc, DataMapper, Index, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, rows, col, remaining\_cols, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{611 }
\DoxyCodeLine{612           \textcolor{keywordflow}{if} (remaining\_rows > 0)}
\DoxyCodeLine{613           \{}
\DoxyCodeLine{614             gemm\_complex\_extra\_col<Scalar, Packet, Packetc, DataMapper, Index, accRows, accCols, ConjugateLhs, ConjugateRhs, LhsIsReal, RhsIsReal>(res, lhs\_base, rhs\_base, depth, strideA, offsetA, strideB, row, col, remaining\_rows, remaining\_cols, pAlphaReal, pAlphaImag);}
\DoxyCodeLine{615           \}}
\DoxyCodeLine{616           rhs\_base++;}
\DoxyCodeLine{617         \}}
\DoxyCodeLine{618       \}}
\DoxyCodeLine{619 \}}
\DoxyCodeLine{620 }
\DoxyCodeLine{621 \textcolor{preprocessor}{\#undef accColsC}}
\DoxyCodeLine{622 \textcolor{preprocessor}{\#undef advanceRows}}
\DoxyCodeLine{623 \textcolor{preprocessor}{\#undef advanceCols}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625 \textcolor{preprocessor}{\#pragma GCC reset\_options}}
\DoxyCodeLine{626 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{627 }
\DoxyCodeLine{628 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{629 }
\DoxyCodeLine{630 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_MATRIX\_PRODUCT\_MMA\_ALTIVEC\_H}}
\DoxyCodeLine{631 }

\end{DoxyCode}
