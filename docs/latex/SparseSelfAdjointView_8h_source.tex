\hypertarget{SparseSelfAdjointView_8h_source}{}\doxysection{Sparse\+Self\+Adjoint\+View.\+h}
\label{SparseSelfAdjointView_8h_source}\index{include/Eigen/src/SparseCore/SparseSelfAdjointView.h@{include/Eigen/src/SparseCore/SparseSelfAdjointView.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2009-\/2014 Gael Guennebaud <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{5 \textcolor{comment}{//}}
\DoxyCodeLine{6 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{7 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{8 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef EIGEN\_SPARSE\_SELFADJOINTVIEW\_H}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define EIGEN\_SPARSE\_SELFADJOINTVIEW\_H}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}./InternalHeaderCheck.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{ }
\DoxyCodeLine{16   }
\DoxyCodeLine{31 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{32   }
\DoxyCodeLine{33 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{34 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}<MatrixType,Mode> > : \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<MatrixType> \{}
\DoxyCodeLine{35 \};}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} SrcMode,\textcolor{keywordtype}{int} DstMode,\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{int} DestOrder>}
\DoxyCodeLine{38 \textcolor{keywordtype}{void} permute\_symm\_to\_symm(\textcolor{keyword}{const} MatrixType\& mat, \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<typename MatrixType::Scalar,DestOrder,typename MatrixType::StorageIndex>}}\& \_dest, \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::StorageIndex* perm = 0);}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Mode,\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{int} DestOrder>}
\DoxyCodeLine{41 \textcolor{keywordtype}{void} permute\_symm\_to\_fullsymm(\textcolor{keyword}{const} MatrixType\& mat, \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<typename MatrixType::Scalar,DestOrder,typename MatrixType::StorageIndex>}}\& \_dest, \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::StorageIndex* perm = 0);}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Mode\_> \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}}
\DoxyCodeLine{46   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1EigenBase}{EigenBase}}<SparseSelfAdjointView<MatrixType,Mode\_> >}
\DoxyCodeLine{47 \{}
\DoxyCodeLine{48   \textcolor{keyword}{public}:}
\DoxyCodeLine{49     }
\DoxyCodeLine{50     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{51       Mode = Mode\_,}
\DoxyCodeLine{52       TransposeMode = ((Mode \& \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) ? \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}} : 0) | ((Mode \& \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) ? \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}} : 0),}
\DoxyCodeLine{53       RowsAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<SparseSelfAdjointView>::RowsAtCompileTime}},}
\DoxyCodeLine{54       ColsAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<SparseSelfAdjointView>::ColsAtCompileTime}}}
\DoxyCodeLine{55     \};}
\DoxyCodeLine{56 }
\DoxyCodeLine{57     \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1EigenBase}{EigenBase<SparseSelfAdjointView>}} \mbox{\hyperlink{structEigen_1_1EigenBase}{Base}};}
\DoxyCodeLine{58     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{59     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::StorageIndex StorageIndex;}
\DoxyCodeLine{60     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<StorageIndex,Dynamic,1>}} \mbox{\hyperlink{classEigen_1_1Matrix}{VectorI}};}
\DoxyCodeLine{61     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{internal::ref\_selector<MatrixType>::non\_const\_type}} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{MatrixTypeNested}};}
\DoxyCodeLine{62     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<MatrixTypeNested>::type \_MatrixTypeNested;}
\DoxyCodeLine{63     }
\DoxyCodeLine{64     \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}(MatrixType\& matrix) : m\_matrix(matrix)}
\DoxyCodeLine{65     \{}
\DoxyCodeLine{66       eigen\_assert(rows()==cols() \&\& \textcolor{stringliteral}{"{}SelfAdjointView is only for squared matrices"{}});}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix.rows(); \}}
\DoxyCodeLine{70     \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix.cols(); \}}
\DoxyCodeLine{71 }
\DoxyCodeLine{73     \textcolor{keyword}{const} \_MatrixTypeNested\& matrix()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix; \}}
\DoxyCodeLine{74     \textcolor{keyword}{typename} internal::remove\_reference<MatrixTypeNested>::type\& matrix() \{ \textcolor{keywordflow}{return} m\_matrix; \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{81     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{82     \mbox{\hyperlink{classEigen_1_1Product}{Product<SparseSelfAdjointView, OtherDerived>}}}
\DoxyCodeLine{83     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_ac93f8a03b6cac4e5e65a1772c837122a}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<OtherDerived>}}\& rhs)\textcolor{keyword}{ const}}
\DoxyCodeLine{84 \textcolor{keyword}{    }\{}
\DoxyCodeLine{85       \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Product}{Product<SparseSelfAdjointView, OtherDerived>}}(*\textcolor{keyword}{this}, rhs.derived());}
\DoxyCodeLine{86     \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{93     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived> \textcolor{keyword}{friend}}
\DoxyCodeLine{94     \mbox{\hyperlink{classEigen_1_1Product}{Product<OtherDerived, SparseSelfAdjointView>}}}
\DoxyCodeLine{95     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_adb2251d5b81d15f3916557c2eefc54e0}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<OtherDerived>}}\& lhs, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}\& rhs)}
\DoxyCodeLine{96     \{}
\DoxyCodeLine{97       \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Product}{Product<OtherDerived, SparseSelfAdjointView>}}(lhs.derived(), rhs);}
\DoxyCodeLine{98     \}}
\DoxyCodeLine{99     }
\DoxyCodeLine{101     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{102     \mbox{\hyperlink{classEigen_1_1Product}{Product<SparseSelfAdjointView,OtherDerived>}}}
\DoxyCodeLine{103     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_ab7075c59d398aacd63a6aee881496446}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\& rhs)\textcolor{keyword}{ const}}
\DoxyCodeLine{104 \textcolor{keyword}{    }\{}
\DoxyCodeLine{105       \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Product}{Product<SparseSelfAdjointView,OtherDerived>}}(*\textcolor{keyword}{this}, rhs.derived());}
\DoxyCodeLine{106     \}}
\DoxyCodeLine{107 }
\DoxyCodeLine{109     \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherDerived> \textcolor{keyword}{friend}}
\DoxyCodeLine{110     \mbox{\hyperlink{classEigen_1_1Product}{Product<OtherDerived,SparseSelfAdjointView>}}}
\DoxyCodeLine{111     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_a87244e14162ceefce9b50627e7c1304b}{operator*}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\& lhs, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}\& rhs)}
\DoxyCodeLine{112     \{}
\DoxyCodeLine{113       \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Product}{Product<OtherDerived,SparseSelfAdjointView>}}(lhs.derived(), rhs);}
\DoxyCodeLine{114     \}}
\DoxyCodeLine{115 }
\DoxyCodeLine{124     \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedU>}
\DoxyCodeLine{125     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}\& \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_aade37cc737f9bad88ff492a37faeb050}{rankUpdate}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseMatrixBase}{SparseMatrixBase<DerivedU>}}\& u, \textcolor{keyword}{const} Scalar\& alpha = Scalar(1));}
\DoxyCodeLine{126     }
\DoxyCodeLine{128     \textcolor{comment}{// TODO implement twists in a more evaluator friendly fashion}}
\DoxyCodeLine{129     \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct<\_MatrixTypeNested,Mode>}} \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_a7cbd398cb161a7150d6fffc7949de46a}{twistedBy}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{PermutationMatrix<Dynamic,Dynamic,StorageIndex>}}\& perm)\textcolor{keyword}{ const}}
\DoxyCodeLine{130 \textcolor{keyword}{    }\{}
\DoxyCodeLine{131       \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct<\_MatrixTypeNested,Mode>}}(m\_matrix, perm);}
\DoxyCodeLine{132     \}}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     \textcolor{keyword}{template}<\textcolor{keyword}{typename} SrcMatrixType,\textcolor{keywordtype}{int} SrcMode>}
\DoxyCodeLine{135     \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct<SrcMatrixType,SrcMode>}}\& permutedMatrix)}
\DoxyCodeLine{136     \{}
\DoxyCodeLine{137       internal::call\_assignment\_no\_alias\_no\_transpose(*\textcolor{keyword}{this}, permutedMatrix);}
\DoxyCodeLine{138       \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{139     \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     SparseSelfAdjointView\& operator=(\textcolor{keyword}{const} SparseSelfAdjointView\& src)}
\DoxyCodeLine{142     \{}
\DoxyCodeLine{143       PermutationMatrix<Dynamic,Dynamic,StorageIndex> pnull;}
\DoxyCodeLine{144       \textcolor{keywordflow}{return} *\textcolor{keyword}{this} = src.twistedBy(pnull);}
\DoxyCodeLine{145     \}}
\DoxyCodeLine{146 }
\DoxyCodeLine{147     \textcolor{comment}{// Since we override the copy-\/assignment operator, we need to explicitly re-\/declare the copy-\/constructor}}
\DoxyCodeLine{148     EIGEN\_DEFAULT\_COPY\_CONSTRUCTOR(SparseSelfAdjointView)}
\DoxyCodeLine{149 }
\DoxyCodeLine{150     \textcolor{keyword}{template}<\textcolor{keyword}{typename} SrcMatrixType,\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} SrcMode>}
\DoxyCodeLine{151     SparseSelfAdjointView\& operator=(\textcolor{keyword}{const} SparseSelfAdjointView<SrcMatrixType,SrcMode>\& src)}
\DoxyCodeLine{152     \{}
\DoxyCodeLine{153       PermutationMatrix<Dynamic,Dynamic,StorageIndex> pnull;}
\DoxyCodeLine{154       \textcolor{keywordflow}{return} *\textcolor{keyword}{this} = src.twistedBy(pnull);}
\DoxyCodeLine{155     \}}
\DoxyCodeLine{156     }
\DoxyCodeLine{157     \textcolor{keywordtype}{void} resize(\mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} rows, \mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} cols)}
\DoxyCodeLine{158     \{}
\DoxyCodeLine{159       EIGEN\_ONLY\_USED\_FOR\_DEBUG(rows);}
\DoxyCodeLine{160       EIGEN\_ONLY\_USED\_FOR\_DEBUG(cols);}
\DoxyCodeLine{161       eigen\_assert(rows == this-\/>rows() \&\& cols == this-\/>cols()}
\DoxyCodeLine{162                 \&\& \textcolor{stringliteral}{"{}SparseSelfadjointView::resize() does not actually allow to resize."{}});}
\DoxyCodeLine{163     \}}
\DoxyCodeLine{164     }
\DoxyCodeLine{165   \textcolor{keyword}{protected}:}
\DoxyCodeLine{166 }
\DoxyCodeLine{167     MatrixTypeNested m\_matrix;}
\DoxyCodeLine{168     \textcolor{comment}{//mutable VectorI m\_countPerRow;}}
\DoxyCodeLine{169     \textcolor{comment}{//mutable VectorI m\_countPerCol;}}
\DoxyCodeLine{170   \textcolor{keyword}{private}:}
\DoxyCodeLine{171     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest> \textcolor{keywordtype}{void} evalTo(Dest \&) \textcolor{keyword}{const};}
\DoxyCodeLine{172 \};}
\DoxyCodeLine{173 }
\DoxyCodeLine{174 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{175 \textcolor{comment}{* Implementation of SparseMatrixBase methods}}
\DoxyCodeLine{176 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{177 }
\DoxyCodeLine{178 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{179 \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} UpLo>}
\DoxyCodeLine{180 \textcolor{keyword}{typename} SparseMatrixBase<Derived>::template ConstSelfAdjointViewReturnType<UpLo>::Type SparseMatrixBase<Derived>::selfadjointView()\textcolor{keyword}{ const}}
\DoxyCodeLine{181 \textcolor{keyword}{}\{}
\DoxyCodeLine{182   \textcolor{keywordflow}{return} SparseSelfAdjointView<const Derived, UpLo>(derived());}
\DoxyCodeLine{183 \}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{186 \textcolor{keyword}{template}<\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} UpLo>}
\DoxyCodeLine{187 \textcolor{keyword}{typename} SparseMatrixBase<Derived>::template SelfAdjointViewReturnType<UpLo>::Type SparseMatrixBase<Derived>::selfadjointView()}
\DoxyCodeLine{188 \{}
\DoxyCodeLine{189   \textcolor{keywordflow}{return} SparseSelfAdjointView<Derived, UpLo>(derived());}
\DoxyCodeLine{190 \}}
\DoxyCodeLine{191 }
\DoxyCodeLine{192 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{193 \textcolor{comment}{* Implementation of SparseSelfAdjointView methods}}
\DoxyCodeLine{194 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{195 }
\DoxyCodeLine{196 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{197 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedU>}
\DoxyCodeLine{198 SparseSelfAdjointView<MatrixType,Mode>\&}
\DoxyCodeLine{199 \mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView_aade37cc737f9bad88ff492a37faeb050}{SparseSelfAdjointView<MatrixType,Mode>::rankUpdate}}(\textcolor{keyword}{const} SparseMatrixBase<DerivedU>\& u, \textcolor{keyword}{const} Scalar\& alpha)}
\DoxyCodeLine{200 \{}
\DoxyCodeLine{201   SparseMatrix<Scalar,(MatrixType::Flags\&\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}})?\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}}:\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}}> tmp = u * u.adjoint();}
\DoxyCodeLine{202   \textcolor{keywordflow}{if}(alpha==Scalar(0))}
\DoxyCodeLine{203     m\_matrix = tmp.template triangularView<Mode>();}
\DoxyCodeLine{204   \textcolor{keywordflow}{else}}
\DoxyCodeLine{205     m\_matrix += alpha * tmp.template triangularView<Mode>();}
\DoxyCodeLine{206 }
\DoxyCodeLine{207   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{208 \}}
\DoxyCodeLine{209 }
\DoxyCodeLine{210 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{211   }
\DoxyCodeLine{212 \textcolor{comment}{// TODO currently a selfadjoint expression has the form SelfAdjointView<.,.>}}
\DoxyCodeLine{213 \textcolor{comment}{//      in the future selfadjoint-\/ness should be defined by the expression traits}}
\DoxyCodeLine{214 \textcolor{comment}{//      such that Transpose<SelfAdjointView<.,.> > is valid. (currently TriangularBase::transpose() is overloaded to make it work)}}
\DoxyCodeLine{215 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{216 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1evaluator__traits}{evaluator\_traits}}<\mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView}}<MatrixType,Mode> >}
\DoxyCodeLine{217 \{}
\DoxyCodeLine{218   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1IndexBased}{storage\_kind\_to\_evaluator\_kind<typename MatrixType::StorageKind>::Kind}} \mbox{\hyperlink{structEigen_1_1internal_1_1IndexBased}{Kind}};}
\DoxyCodeLine{219   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}} \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{Shape}};}
\DoxyCodeLine{220 \};}
\DoxyCodeLine{221 }
\DoxyCodeLine{222 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjoint2Sparse}{SparseSelfAdjoint2Sparse}} \{\};}
\DoxyCodeLine{223 }
\DoxyCodeLine{224 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}},\mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}}> \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjoint2Sparse}{SparseSelfAdjoint2Sparse}} \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjoint2Sparse}{Kind}}; \};}
\DoxyCodeLine{225 \textcolor{keyword}{template}<> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1AssignmentKind}{AssignmentKind}}<\mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}},\mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}> \{ \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}} \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Kind}}; \};}
\DoxyCodeLine{226 }
\DoxyCodeLine{227 \textcolor{keyword}{template}< \textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} SrcXprType, \textcolor{keyword}{typename} Functor>}
\DoxyCodeLine{228 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, SrcXprType, Functor, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjoint2Sparse}{SparseSelfAdjoint2Sparse}}>}
\DoxyCodeLine{229 \{}
\DoxyCodeLine{230   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DstXprType::StorageIndex StorageIndex;}
\DoxyCodeLine{231   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{AssignOpType}};}
\DoxyCodeLine{232 }
\DoxyCodeLine{233   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestScalar,\textcolor{keywordtype}{int} StorageOrder>}
\DoxyCodeLine{234   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{AssignOpType}}\&\textcolor{comment}{/*func*/})}
\DoxyCodeLine{235   \{}
\DoxyCodeLine{236     internal::permute\_symm\_to\_fullsymm<SrcXprType::Mode>(src.matrix(), dst);}
\DoxyCodeLine{237   \}}
\DoxyCodeLine{238 }
\DoxyCodeLine{239   \textcolor{comment}{// FIXME: the handling of += and -\/= in sparse matrices should be cleanup so that next two overloads could be reduced to:}}
\DoxyCodeLine{240   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestScalar,\textcolor{keywordtype}{int} StorageOrder,\textcolor{keyword}{typename} AssignFunc>}
\DoxyCodeLine{241   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src, \textcolor{keyword}{const} AssignFunc\& func)}
\DoxyCodeLine{242   \{}
\DoxyCodeLine{243     \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} tmp(src.rows(),src.cols());}
\DoxyCodeLine{244     run(tmp, src, \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{AssignOpType}}());}
\DoxyCodeLine{245     call\_assignment\_no\_alias\_no\_transpose(dst, tmp, func);}
\DoxyCodeLine{246   \}}
\DoxyCodeLine{247 }
\DoxyCodeLine{248   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestScalar,\textcolor{keywordtype}{int} StorageOrder>}
\DoxyCodeLine{249   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src,}
\DoxyCodeLine{250                   \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1add__assign__op}{internal::add\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}}\& \textcolor{comment}{/* func */})}
\DoxyCodeLine{251   \{}
\DoxyCodeLine{252     \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} tmp(src.rows(),src.cols());}
\DoxyCodeLine{253     run(tmp, src, \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{AssignOpType}}());}
\DoxyCodeLine{254     dst += tmp;}
\DoxyCodeLine{255   \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestScalar,\textcolor{keywordtype}{int} StorageOrder>}
\DoxyCodeLine{258   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} \&dst, \textcolor{keyword}{const} SrcXprType \&src,}
\DoxyCodeLine{259                   \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1sub__assign__op}{internal::sub\_assign\_op<typename DstXprType::Scalar,typename SrcXprType::Scalar>}}\& \textcolor{comment}{/* func */})}
\DoxyCodeLine{260   \{}
\DoxyCodeLine{261     \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<DestScalar,StorageOrder,StorageIndex>}} tmp(src.rows(),src.cols());}
\DoxyCodeLine{262     run(tmp, src, \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{AssignOpType}}());}
\DoxyCodeLine{263     dst -\/= tmp;}
\DoxyCodeLine{264   \}}
\DoxyCodeLine{265 \};}
\DoxyCodeLine{266 }
\DoxyCodeLine{267 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{270 \textcolor{comment}{* Implementation of sparse self-\/adjoint time dense matrix}}
\DoxyCodeLine{271 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{272 }
\DoxyCodeLine{273 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{274 }
\DoxyCodeLine{275 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Mode, \textcolor{keyword}{typename} SparseLhsType, \textcolor{keyword}{typename} DenseRhsType, \textcolor{keyword}{typename} DenseResType, \textcolor{keyword}{typename} AlphaType>}
\DoxyCodeLine{276 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} sparse\_selfadjoint\_time\_dense\_product(\textcolor{keyword}{const} SparseLhsType\& lhs, \textcolor{keyword}{const} DenseRhsType\& rhs, DenseResType\& res, \textcolor{keyword}{const} AlphaType\& alpha)}
\DoxyCodeLine{277 \{}
\DoxyCodeLine{278   EIGEN\_ONLY\_USED\_FOR\_DEBUG(alpha);}
\DoxyCodeLine{279   }
\DoxyCodeLine{280   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{internal::nested\_eval<SparseLhsType,DenseRhsType::MaxColsAtCompileTime>::type}} SparseLhsTypeNested;}
\DoxyCodeLine{281   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<SparseLhsTypeNested>::type SparseLhsTypeNestedCleaned;}
\DoxyCodeLine{282   \textcolor{keyword}{typedef} evaluator<SparseLhsTypeNestedCleaned> LhsEval;}
\DoxyCodeLine{283   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} LhsEval::InnerIterator LhsIterator;}
\DoxyCodeLine{284   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} SparseLhsType::Scalar LhsScalar;}
\DoxyCodeLine{285   }
\DoxyCodeLine{286   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{287     LhsIsRowMajor = (LhsEval::Flags\&\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}})==\mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}},}
\DoxyCodeLine{288     ProcessFirstHalf =}
\DoxyCodeLine{289               ((Mode\&(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}))==(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}))}
\DoxyCodeLine{290           || ( (Mode\&\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) \&\& !LhsIsRowMajor)}
\DoxyCodeLine{291           || ( (Mode\&\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) \&\& LhsIsRowMajor),}
\DoxyCodeLine{292     ProcessSecondHalf = !ProcessFirstHalf}
\DoxyCodeLine{293   \};}
\DoxyCodeLine{294   }
\DoxyCodeLine{295   SparseLhsTypeNested lhs\_nested(lhs);}
\DoxyCodeLine{296   LhsEval lhsEval(lhs\_nested);}
\DoxyCodeLine{297 }
\DoxyCodeLine{298   \textcolor{comment}{// work on one column at once}}
\DoxyCodeLine{299   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k=0; k<rhs.cols(); ++k)}
\DoxyCodeLine{300   \{}
\DoxyCodeLine{301     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<lhs.outerSize(); ++j)}
\DoxyCodeLine{302     \{}
\DoxyCodeLine{303       LhsIterator i(lhsEval,j);}
\DoxyCodeLine{304       \textcolor{comment}{// handle diagonal coeff}}
\DoxyCodeLine{305       \textcolor{keywordflow}{if} (ProcessSecondHalf)}
\DoxyCodeLine{306       \{}
\DoxyCodeLine{307         \textcolor{keywordflow}{while} (i \&\& i.index()<j) ++i;}
\DoxyCodeLine{308         \textcolor{keywordflow}{if}(i \&\& i.index()==j)}
\DoxyCodeLine{309         \{}
\DoxyCodeLine{310           res.coeffRef(j,k) += alpha * i.value() * rhs.coeff(j,k);}
\DoxyCodeLine{311           ++i;}
\DoxyCodeLine{312         \}}
\DoxyCodeLine{313       \}}
\DoxyCodeLine{314 }
\DoxyCodeLine{315       \textcolor{comment}{// premultiplied rhs for scatters}}
\DoxyCodeLine{316       \textcolor{keyword}{typename} ScalarBinaryOpTraits<AlphaType, typename DenseRhsType::Scalar>::ReturnType rhs\_j(alpha*rhs(j,k));}
\DoxyCodeLine{317       \textcolor{comment}{// accumulator for partial scalar product}}
\DoxyCodeLine{318       \textcolor{keyword}{typename} DenseResType::Scalar res\_j(0);}
\DoxyCodeLine{319       \textcolor{keywordflow}{for}(; (ProcessFirstHalf ? i \&\& i.index() < j : i) ; ++i)}
\DoxyCodeLine{320       \{}
\DoxyCodeLine{321         LhsScalar lhs\_ij = i.value();}
\DoxyCodeLine{322         \textcolor{keywordflow}{if}(!LhsIsRowMajor) lhs\_ij = numext::conj(lhs\_ij);}
\DoxyCodeLine{323         res\_j += lhs\_ij * rhs.coeff(i.index(),k);}
\DoxyCodeLine{324         res(i.index(),k) += numext::conj(lhs\_ij) * rhs\_j;}
\DoxyCodeLine{325       \}}
\DoxyCodeLine{326       res.coeffRef(j,k) += alpha * res\_j;}
\DoxyCodeLine{327 }
\DoxyCodeLine{328       \textcolor{comment}{// handle diagonal coeff}}
\DoxyCodeLine{329       \textcolor{keywordflow}{if} (ProcessFirstHalf \&\& i \&\& (i.index()==j))}
\DoxyCodeLine{330         res.coeffRef(j,k) += alpha * i.value() * rhs.coeff(j,k);}
\DoxyCodeLine{331     \}}
\DoxyCodeLine{332   \}}
\DoxyCodeLine{333 \}}
\DoxyCodeLine{334 }
\DoxyCodeLine{335 }
\DoxyCodeLine{336 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsView, \textcolor{keyword}{typename} Rhs, \textcolor{keywordtype}{int} ProductType>}
\DoxyCodeLine{337 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl}{generic\_product\_impl}}<LhsView, Rhs, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}}, \mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}}, ProductType>}
\DoxyCodeLine{338 : \mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl__base}{generic\_product\_impl\_base}}<LhsView, Rhs, generic\_product\_impl<LhsView, Rhs, SparseSelfAdjointShape, DenseShape, ProductType> >}
\DoxyCodeLine{339 \{}
\DoxyCodeLine{340   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest>}
\DoxyCodeLine{341   \textcolor{keyword}{static} \textcolor{keywordtype}{void} scaleAndAddTo(Dest\& dst, \textcolor{keyword}{const} LhsView\& lhsView, \textcolor{keyword}{const} Rhs\& rhs, \textcolor{keyword}{const} \textcolor{keyword}{typename} Dest::Scalar\& alpha)}
\DoxyCodeLine{342   \{}
\DoxyCodeLine{343     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} LhsView::\_MatrixTypeNested Lhs;}
\DoxyCodeLine{344     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{nested\_eval<Lhs,Dynamic>::type}} LhsNested;}
\DoxyCodeLine{345     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{nested\_eval<Rhs,Dynamic>::type}} RhsNested;}
\DoxyCodeLine{346     LhsNested lhsNested(lhsView.matrix());}
\DoxyCodeLine{347     RhsNested rhsNested(rhs);}
\DoxyCodeLine{348     }
\DoxyCodeLine{349     internal::sparse\_selfadjoint\_time\_dense\_product<LhsView::Mode>(lhsNested, rhsNested, dst, alpha);}
\DoxyCodeLine{350   \}}
\DoxyCodeLine{351 \};}
\DoxyCodeLine{352 }
\DoxyCodeLine{353 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Lhs, \textcolor{keyword}{typename} RhsView, \textcolor{keywordtype}{int} ProductType>}
\DoxyCodeLine{354 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl}{generic\_product\_impl}}<Lhs, RhsView, \mbox{\hyperlink{structEigen_1_1DenseShape}{DenseShape}}, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}}, ProductType>}
\DoxyCodeLine{355 : \mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl__base}{generic\_product\_impl\_base}}<Lhs, RhsView, generic\_product\_impl<Lhs, RhsView, DenseShape, SparseSelfAdjointShape, ProductType> >}
\DoxyCodeLine{356 \{}
\DoxyCodeLine{357   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dest>}
\DoxyCodeLine{358   \textcolor{keyword}{static} \textcolor{keywordtype}{void} scaleAndAddTo(Dest\& dst, \textcolor{keyword}{const} Lhs\& lhs, \textcolor{keyword}{const} RhsView\& rhsView, \textcolor{keyword}{const} \textcolor{keyword}{typename} Dest::Scalar\& alpha)}
\DoxyCodeLine{359   \{}
\DoxyCodeLine{360     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} RhsView::\_MatrixTypeNested Rhs;}
\DoxyCodeLine{361     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{nested\_eval<Lhs,Dynamic>::type}} LhsNested;}
\DoxyCodeLine{362     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{nested\_eval<Rhs,Dynamic>::type}} RhsNested;}
\DoxyCodeLine{363     LhsNested lhsNested(lhs);}
\DoxyCodeLine{364     RhsNested rhsNested(rhsView.matrix());}
\DoxyCodeLine{365     }
\DoxyCodeLine{366     \textcolor{comment}{// transpose everything}}
\DoxyCodeLine{367     \mbox{\hyperlink{classEigen_1_1Transpose}{Transpose<Dest>}} dstT(dst);}
\DoxyCodeLine{368     internal::sparse\_selfadjoint\_time\_dense\_product<RhsView::TransposeMode>(rhsNested.transpose(), lhsNested.transpose(), dstT, alpha);}
\DoxyCodeLine{369   \}}
\DoxyCodeLine{370 \};}
\DoxyCodeLine{371 }
\DoxyCodeLine{372 \textcolor{comment}{// NOTE: these two overloads are needed to evaluate the sparse selfadjoint view into a full sparse matrix}}
\DoxyCodeLine{373 \textcolor{comment}{// TODO: maybe the copy could be handled by generic\_product\_impl so that these overloads would not be needed anymore}}
\DoxyCodeLine{374 }
\DoxyCodeLine{375 \textcolor{keyword}{template}<\textcolor{keyword}{typename} LhsView, \textcolor{keyword}{typename} Rhs, \textcolor{keywordtype}{int} ProductTag>}
\DoxyCodeLine{376 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1product__evaluator}{product\_evaluator}}<\mbox{\hyperlink{classEigen_1_1Product}{Product}}<LhsView, Rhs, DefaultProduct>, ProductTag, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}}, \mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}>}
\DoxyCodeLine{377   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{evaluator}}<typename Product<typename Rhs::PlainObject, Rhs, DefaultProduct>::PlainObject>}
\DoxyCodeLine{378 \{}
\DoxyCodeLine{379   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Product}{Product<LhsView, Rhs, DefaultProduct>}} \mbox{\hyperlink{classEigen_1_1Product}{XprType}};}
\DoxyCodeLine{380   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::PlainObject PlainObject;}
\DoxyCodeLine{381   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{evaluator<PlainObject>}} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}};}
\DoxyCodeLine{382 }
\DoxyCodeLine{383   \mbox{\hyperlink{structEigen_1_1internal_1_1product__evaluator}{product\_evaluator}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Product}{XprType}}\& xpr)}
\DoxyCodeLine{384     : m\_lhs(xpr.lhs()), m\_result(xpr.rows(), xpr.cols())}
\DoxyCodeLine{385   \{}
\DoxyCodeLine{386     ::new (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})) \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}}(m\_result);}
\DoxyCodeLine{387     \mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl}{generic\_product\_impl<typename Rhs::PlainObject, Rhs, SparseShape, SparseShape, ProductTag>::evalTo}}(m\_result, m\_lhs, xpr.rhs());}
\DoxyCodeLine{388   \}}
\DoxyCodeLine{389   }
\DoxyCodeLine{390 \textcolor{keyword}{protected}:}
\DoxyCodeLine{391   \textcolor{keyword}{typename} Rhs::PlainObject m\_lhs;}
\DoxyCodeLine{392   PlainObject m\_result;}
\DoxyCodeLine{393 \};}
\DoxyCodeLine{394 }
\DoxyCodeLine{395 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Lhs, \textcolor{keyword}{typename} RhsView, \textcolor{keywordtype}{int} ProductTag>}
\DoxyCodeLine{396 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1product__evaluator}{product\_evaluator}}<\mbox{\hyperlink{classEigen_1_1Product}{Product}}<Lhs, RhsView, DefaultProduct>, ProductTag, \mbox{\hyperlink{structEigen_1_1SparseShape}{SparseShape}}, \mbox{\hyperlink{structEigen_1_1internal_1_1SparseSelfAdjointShape}{SparseSelfAdjointShape}}>}
\DoxyCodeLine{397   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{evaluator}}<typename Product<Lhs, typename Lhs::PlainObject, DefaultProduct>::PlainObject>}
\DoxyCodeLine{398 \{}
\DoxyCodeLine{399   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Product}{Product<Lhs, RhsView, DefaultProduct>}} \mbox{\hyperlink{classEigen_1_1Product}{XprType}};}
\DoxyCodeLine{400   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} XprType::PlainObject PlainObject;}
\DoxyCodeLine{401   \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{evaluator<PlainObject>}} \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}};}
\DoxyCodeLine{402 }
\DoxyCodeLine{403   \mbox{\hyperlink{structEigen_1_1internal_1_1product__evaluator}{product\_evaluator}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Product}{XprType}}\& xpr)}
\DoxyCodeLine{404     : m\_rhs(xpr.rhs()), m\_result(xpr.rows(), xpr.cols())}
\DoxyCodeLine{405   \{}
\DoxyCodeLine{406     ::new (\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})) \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{Base}}(m\_result);}
\DoxyCodeLine{407     \mbox{\hyperlink{structEigen_1_1internal_1_1generic__product__impl}{generic\_product\_impl<Lhs, typename Lhs::PlainObject, SparseShape, SparseShape, ProductTag>::evalTo}}(m\_result, xpr.lhs(), m\_rhs);}
\DoxyCodeLine{408   \}}
\DoxyCodeLine{409   }
\DoxyCodeLine{410 \textcolor{keyword}{protected}:}
\DoxyCodeLine{411   \textcolor{keyword}{typename} Lhs::PlainObject m\_rhs;}
\DoxyCodeLine{412   PlainObject m\_result;}
\DoxyCodeLine{413 \};}
\DoxyCodeLine{414 }
\DoxyCodeLine{415 \} \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{416 }
\DoxyCodeLine{417 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{418 \textcolor{comment}{* Implementation of symmetric copies and permutations}}
\DoxyCodeLine{419 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{420 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{421 }
\DoxyCodeLine{422 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Mode,\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{int} DestOrder>}
\DoxyCodeLine{423 \textcolor{keywordtype}{void} permute\_symm\_to\_fullsymm(\textcolor{keyword}{const} MatrixType\& mat, \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<typename MatrixType::Scalar,DestOrder,typename MatrixType::StorageIndex>}}\& \_dest, \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::StorageIndex* perm)}
\DoxyCodeLine{424 \{}
\DoxyCodeLine{425   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::StorageIndex StorageIndex;}
\DoxyCodeLine{426   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{427   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<Scalar,DestOrder,StorageIndex>}} Dest;}
\DoxyCodeLine{428   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<StorageIndex,Dynamic,1>}} VectorI;}
\DoxyCodeLine{429   \textcolor{keyword}{typedef} evaluator<MatrixType> MatEval;}
\DoxyCodeLine{430   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} evaluator<MatrixType>::InnerIterator MatIterator;}
\DoxyCodeLine{431   }
\DoxyCodeLine{432   MatEval matEval(mat);}
\DoxyCodeLine{433   Dest\& dest(\_dest.derived());}
\DoxyCodeLine{434   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{435     StorageOrderMatch = int(Dest::IsRowMajor) == int(MatrixType::IsRowMajor)}
\DoxyCodeLine{436   \};}
\DoxyCodeLine{437   }
\DoxyCodeLine{438   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} size = mat.rows();}
\DoxyCodeLine{439   VectorI count;}
\DoxyCodeLine{440   count.resize(size);}
\DoxyCodeLine{441   count.setZero();}
\DoxyCodeLine{442   dest.resize(size,size);}
\DoxyCodeLine{443   \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j = 0; j<size; ++j)}
\DoxyCodeLine{444   \{}
\DoxyCodeLine{445     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} jp = perm ? perm[j] : j;}
\DoxyCodeLine{446     \textcolor{keywordflow}{for}(MatIterator it(matEval,j); it; ++it)}
\DoxyCodeLine{447     \{}
\DoxyCodeLine{448       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i = it.index();}
\DoxyCodeLine{449       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} r = it.row();}
\DoxyCodeLine{450       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} c = it.col();}
\DoxyCodeLine{451       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} ip = perm ? perm[i] : i;}
\DoxyCodeLine{452       \textcolor{keywordflow}{if}(Mode==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}))}
\DoxyCodeLine{453         count[StorageOrderMatch ? jp : ip]++;}
\DoxyCodeLine{454       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(r==c)}
\DoxyCodeLine{455         count[ip]++;}
\DoxyCodeLine{456       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(( Mode==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}} \&\& r>c) || ( Mode==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}} \&\& r<c))}
\DoxyCodeLine{457       \{}
\DoxyCodeLine{458         count[ip]++;}
\DoxyCodeLine{459         count[jp]++;}
\DoxyCodeLine{460       \}}
\DoxyCodeLine{461     \}}
\DoxyCodeLine{462   \}}
\DoxyCodeLine{463   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} nnz = count.sum();}
\DoxyCodeLine{464   }
\DoxyCodeLine{465   \textcolor{comment}{// reserve space}}
\DoxyCodeLine{466   dest.resizeNonZeros(nnz);}
\DoxyCodeLine{467   dest.outerIndexPtr()[0] = 0;}
\DoxyCodeLine{468   \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<size; ++j)}
\DoxyCodeLine{469     dest.outerIndexPtr()[j+1] = dest.outerIndexPtr()[j] + count[j];}
\DoxyCodeLine{470   \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<size; ++j)}
\DoxyCodeLine{471     count[j] = dest.outerIndexPtr()[j];}
\DoxyCodeLine{472   }
\DoxyCodeLine{473   \textcolor{comment}{// copy data}}
\DoxyCodeLine{474   \textcolor{keywordflow}{for}(StorageIndex j = 0; j<size; ++j)}
\DoxyCodeLine{475   \{}
\DoxyCodeLine{476     \textcolor{keywordflow}{for}(MatIterator it(matEval,j); it; ++it)}
\DoxyCodeLine{477     \{}
\DoxyCodeLine{478       StorageIndex i = internal::convert\_index<StorageIndex>(it.index());}
\DoxyCodeLine{479       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} r = it.row();}
\DoxyCodeLine{480       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} c = it.col();}
\DoxyCodeLine{481       }
\DoxyCodeLine{482       StorageIndex jp = perm ? perm[j] : j;}
\DoxyCodeLine{483       StorageIndex ip = perm ? perm[i] : i;}
\DoxyCodeLine{484       }
\DoxyCodeLine{485       \textcolor{keywordflow}{if}(Mode==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}|\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}))}
\DoxyCodeLine{486       \{}
\DoxyCodeLine{487         \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = count[StorageOrderMatch ? jp : ip]++;}
\DoxyCodeLine{488         dest.innerIndexPtr()[k] = StorageOrderMatch ? ip : jp;}
\DoxyCodeLine{489         dest.valuePtr()[k] = it.value();}
\DoxyCodeLine{490       \}}
\DoxyCodeLine{491       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(r==c)}
\DoxyCodeLine{492       \{}
\DoxyCodeLine{493         \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = count[ip]++;}
\DoxyCodeLine{494         dest.innerIndexPtr()[k] = ip;}
\DoxyCodeLine{495         dest.valuePtr()[k] = it.value();}
\DoxyCodeLine{496       \}}
\DoxyCodeLine{497       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(( (Mode\&\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}})==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}} \&\& r>c) || ( (Mode\&\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}})==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}} \&\& r<c))}
\DoxyCodeLine{498       \{}
\DoxyCodeLine{499         \textcolor{keywordflow}{if}(!StorageOrderMatch)}
\DoxyCodeLine{500           std::swap(ip,jp);}
\DoxyCodeLine{501         \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = count[jp]++;}
\DoxyCodeLine{502         dest.innerIndexPtr()[k] = ip;}
\DoxyCodeLine{503         dest.valuePtr()[k] = it.value();}
\DoxyCodeLine{504         k = count[ip]++;}
\DoxyCodeLine{505         dest.innerIndexPtr()[k] = jp;}
\DoxyCodeLine{506         dest.valuePtr()[k] = numext::conj(it.value());}
\DoxyCodeLine{507       \}}
\DoxyCodeLine{508     \}}
\DoxyCodeLine{509   \}}
\DoxyCodeLine{510 \}}
\DoxyCodeLine{511 }
\DoxyCodeLine{512 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} SrcMode\_,\textcolor{keywordtype}{int} DstMode\_,\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{int} DstOrder>}
\DoxyCodeLine{513 \textcolor{keywordtype}{void} permute\_symm\_to\_symm(\textcolor{keyword}{const} MatrixType\& mat, SparseMatrix<typename MatrixType::Scalar,DstOrder,typename MatrixType::StorageIndex>\& \_dest, \textcolor{keyword}{const} \textcolor{keyword}{typename} MatrixType::StorageIndex* perm)}
\DoxyCodeLine{514 \{}
\DoxyCodeLine{515   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::StorageIndex StorageIndex;}
\DoxyCodeLine{516   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{517   SparseMatrix<Scalar,DstOrder,StorageIndex>\& dest(\_dest.derived());}
\DoxyCodeLine{518   \textcolor{keyword}{typedef} Matrix<StorageIndex,Dynamic,1> VectorI;}
\DoxyCodeLine{519   \textcolor{keyword}{typedef} evaluator<MatrixType> MatEval;}
\DoxyCodeLine{520   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} evaluator<MatrixType>::InnerIterator MatIterator;}
\DoxyCodeLine{521 }
\DoxyCodeLine{522   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{523     SrcOrder = MatrixType::IsRowMajor ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}},}
\DoxyCodeLine{524     StorageOrderMatch = int(SrcOrder) == int(DstOrder),}
\DoxyCodeLine{525     DstMode = DstOrder==\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}} ? (DstMode\_==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}} ? \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}} : \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) : DstMode\_,}
\DoxyCodeLine{526     SrcMode = SrcOrder==\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}} ? (SrcMode\_==\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}} ? \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}} : \mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) : SrcMode\_}
\DoxyCodeLine{527   \};}
\DoxyCodeLine{528 }
\DoxyCodeLine{529   MatEval matEval(mat);}
\DoxyCodeLine{530   }
\DoxyCodeLine{531   \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} size = mat.rows();}
\DoxyCodeLine{532   VectorI count(size);}
\DoxyCodeLine{533   count.setZero();}
\DoxyCodeLine{534   dest.resize(size,size);}
\DoxyCodeLine{535   \textcolor{keywordflow}{for}(StorageIndex j = 0; j<size; ++j)}
\DoxyCodeLine{536   \{}
\DoxyCodeLine{537     StorageIndex jp = perm ? perm[j] : j;}
\DoxyCodeLine{538     \textcolor{keywordflow}{for}(MatIterator it(matEval,j); it; ++it)}
\DoxyCodeLine{539     \{}
\DoxyCodeLine{540       StorageIndex i = it.index();}
\DoxyCodeLine{541       \textcolor{keywordflow}{if}((\textcolor{keywordtype}{int}(SrcMode)==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) \&\& i<j) || (\textcolor{keywordtype}{int}(SrcMode)==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) \&\& i>j))}
\DoxyCodeLine{542         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{543                   }
\DoxyCodeLine{544       StorageIndex ip = perm ? perm[i] : i;}
\DoxyCodeLine{545       count[int(DstMode)==int(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) ? (std::min)(ip,jp) : (std::max)(ip,jp)]++;}
\DoxyCodeLine{546     \}}
\DoxyCodeLine{547   \}}
\DoxyCodeLine{548   dest.outerIndexPtr()[0] = 0;}
\DoxyCodeLine{549   \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<size; ++j)}
\DoxyCodeLine{550     dest.outerIndexPtr()[j+1] = dest.outerIndexPtr()[j] + count[j];}
\DoxyCodeLine{551   dest.resizeNonZeros(dest.outerIndexPtr()[size]);}
\DoxyCodeLine{552   \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j=0; j<size; ++j)}
\DoxyCodeLine{553     count[j] = dest.outerIndexPtr()[j];}
\DoxyCodeLine{554   }
\DoxyCodeLine{555   \textcolor{keywordflow}{for}(StorageIndex j = 0; j<size; ++j)}
\DoxyCodeLine{556   \{}
\DoxyCodeLine{557     }
\DoxyCodeLine{558     \textcolor{keywordflow}{for}(MatIterator it(matEval,j); it; ++it)}
\DoxyCodeLine{559     \{}
\DoxyCodeLine{560       StorageIndex i = it.index();}
\DoxyCodeLine{561       \textcolor{keywordflow}{if}((\textcolor{keywordtype}{int}(SrcMode)==int(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) \&\& i<j) || (\textcolor{keywordtype}{int}(SrcMode)==int(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) \&\& i>j))}
\DoxyCodeLine{562         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{563                   }
\DoxyCodeLine{564       StorageIndex jp = perm ? perm[j] : j;}
\DoxyCodeLine{565       StorageIndex ip = perm? perm[i] : i;}
\DoxyCodeLine{566       }
\DoxyCodeLine{567       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = count[int(DstMode)==int(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) ? (std::min)(ip,jp) : (std::max)(ip,jp)]++;}
\DoxyCodeLine{568       dest.innerIndexPtr()[k] = int(DstMode)==int(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) ? (std::max)(ip,jp) : (std::min)(ip,jp);}
\DoxyCodeLine{569       }
\DoxyCodeLine{570       \textcolor{keywordflow}{if}(!StorageOrderMatch) std::swap(ip,jp);}
\DoxyCodeLine{571       \textcolor{keywordflow}{if}( ((\textcolor{keywordtype}{int}(DstMode)==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdaf581029282d421eee5aae14238c6f749}{Lower}}) \&\& ip<jp) || (\textcolor{keywordtype}{int}(DstMode)==\textcolor{keywordtype}{int}(\mbox{\hyperlink{group__enums_gga39e3366ff5554d731e7dc8bb642f83cdafca2ccebb604f171656deb53e8c083c1}{Upper}}) \&\& ip>jp)))}
\DoxyCodeLine{572         dest.valuePtr()[k] = numext::conj(it.value());}
\DoxyCodeLine{573       \textcolor{keywordflow}{else}}
\DoxyCodeLine{574         dest.valuePtr()[k] = it.value();}
\DoxyCodeLine{575     \}}
\DoxyCodeLine{576   \}}
\DoxyCodeLine{577 \}}
\DoxyCodeLine{578 }
\DoxyCodeLine{579 \}}
\DoxyCodeLine{580 }
\DoxyCodeLine{581 \textcolor{comment}{// TODO implement twists in a more evaluator friendly fashion}}
\DoxyCodeLine{582 }
\DoxyCodeLine{583 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{584 }
\DoxyCodeLine{585 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{586 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct}}<MatrixType,Mode> > : \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<MatrixType> \{}
\DoxyCodeLine{587 \};}
\DoxyCodeLine{588 }
\DoxyCodeLine{589 \}}
\DoxyCodeLine{590 }
\DoxyCodeLine{591 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{int} Mode>}
\DoxyCodeLine{592 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct}}}
\DoxyCodeLine{593   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1EigenBase}{EigenBase}}<SparseSymmetricPermutationProduct<MatrixType,Mode> >}
\DoxyCodeLine{594 \{}
\DoxyCodeLine{595   \textcolor{keyword}{public}:}
\DoxyCodeLine{596     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{597     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::StorageIndex StorageIndex;}
\DoxyCodeLine{598     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{599       RowsAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<SparseSymmetricPermutationProduct>::RowsAtCompileTime}},}
\DoxyCodeLine{600       ColsAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<SparseSymmetricPermutationProduct>::ColsAtCompileTime}}}
\DoxyCodeLine{601     \};}
\DoxyCodeLine{602   \textcolor{keyword}{protected}:}
\DoxyCodeLine{603     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{PermutationMatrix<Dynamic,Dynamic,StorageIndex>}} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{Perm}};}
\DoxyCodeLine{604   \textcolor{keyword}{public}:}
\DoxyCodeLine{605     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<StorageIndex,Dynamic,1>}} \mbox{\hyperlink{classEigen_1_1Matrix}{VectorI}};}
\DoxyCodeLine{606     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Nested MatrixTypeNested;}
\DoxyCodeLine{607     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<MatrixTypeNested>::type NestedExpression;}
\DoxyCodeLine{608     }
\DoxyCodeLine{609     \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct}}(\textcolor{keyword}{const} MatrixType\& mat, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{Perm}}\& perm)}
\DoxyCodeLine{610       : m\_matrix(mat), m\_perm(perm)}
\DoxyCodeLine{611     \{\}}
\DoxyCodeLine{612     }
\DoxyCodeLine{613     \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} rows()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix.rows(); \}}
\DoxyCodeLine{614     \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1EigenBase_a554f30542cc2316add4b1ea0a492ff02}{Index}} cols()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix.cols(); \}}
\DoxyCodeLine{615         }
\DoxyCodeLine{616     \textcolor{keyword}{const} NestedExpression\& matrix()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix; \}}
\DoxyCodeLine{617     \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{Perm}}\& perm()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_perm; \}}
\DoxyCodeLine{618     }
\DoxyCodeLine{619   \textcolor{keyword}{protected}:}
\DoxyCodeLine{620     MatrixTypeNested m\_matrix;}
\DoxyCodeLine{621     \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1PermutationMatrix}{Perm}}\& m\_perm;}
\DoxyCodeLine{622 }
\DoxyCodeLine{623 \};}
\DoxyCodeLine{624 }
\DoxyCodeLine{625 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{626   }
\DoxyCodeLine{627 \textcolor{keyword}{template}<\textcolor{keyword}{typename} DstXprType, \textcolor{keyword}{typename} MatrixType, \textcolor{keywordtype}{int} Mode, \textcolor{keyword}{typename} Scalar>}
\DoxyCodeLine{628 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1Assignment}{Assignment}}<DstXprType, \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct}}<MatrixType,Mode>, internal::\mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{assign\_op}}<Scalar,typename MatrixType::Scalar>, \mbox{\hyperlink{structEigen_1_1internal_1_1Sparse2Sparse}{Sparse2Sparse}}>}
\DoxyCodeLine{629 \{}
\DoxyCodeLine{630   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SparseSymmetricPermutationProduct<MatrixType,Mode>}} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SrcXprType}};}
\DoxyCodeLine{631   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} DstXprType::StorageIndex DstIndex;}
\DoxyCodeLine{632   \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Options>}
\DoxyCodeLine{633   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix<Scalar,Options,DstIndex>}} \&dst, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SrcXprType}} \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<Scalar,typename MatrixType::Scalar>}} \&)}
\DoxyCodeLine{634   \{}
\DoxyCodeLine{635     \textcolor{comment}{// internal::permute\_symm\_to\_fullsymm<Mode>(m\_matrix,\_dest,m\_perm.indices().data());}}
\DoxyCodeLine{636     \mbox{\hyperlink{classEigen_1_1SparseMatrix}{SparseMatrix}}<Scalar,(Options\&\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}})==\mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}} ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a0103672ae41005ab03b4176c765afd62}{ColMajor}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a77c993a8d9f6efe5c1159fb2ab07dd4f}{RowMajor}}, DstIndex> tmp;}
\DoxyCodeLine{637     internal::permute\_symm\_to\_fullsymm<Mode>(src.matrix(),tmp,src.perm().\mbox{\hyperlink{classEigen_1_1PermutationMatrix_add5183846b9d0b236291b75d3d1a36d9}{indices}}().data());}
\DoxyCodeLine{638     dst = tmp;}
\DoxyCodeLine{639   \}}
\DoxyCodeLine{640   }
\DoxyCodeLine{641   \textcolor{keyword}{template}<\textcolor{keyword}{typename} DestType,\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} DestMode>}
\DoxyCodeLine{642   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1SparseSelfAdjointView}{SparseSelfAdjointView<DestType,DestMode>}}\& dst, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1SparseSymmetricPermutationProduct}{SrcXprType}} \&src, \textcolor{keyword}{const} \mbox{\hyperlink{structEigen_1_1internal_1_1assign__op}{internal::assign\_op<Scalar,typename MatrixType::Scalar>}} \&)}
\DoxyCodeLine{643   \{}
\DoxyCodeLine{644     internal::permute\_symm\_to\_symm<Mode,DestMode>(src.matrix(),dst.matrix(),src.perm().\mbox{\hyperlink{classEigen_1_1PermutationMatrix_add5183846b9d0b236291b75d3d1a36d9}{indices}}().data());}
\DoxyCodeLine{645   \}}
\DoxyCodeLine{646 \};}
\DoxyCodeLine{647 }
\DoxyCodeLine{648 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{649 }
\DoxyCodeLine{650 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{651 }
\DoxyCodeLine{652 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_SPARSE\_SELFADJOINTVIEW\_H}}

\end{DoxyCode}
