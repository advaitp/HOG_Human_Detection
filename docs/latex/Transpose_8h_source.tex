\hypertarget{Transpose_8h_source}{}\doxysection{Transpose.\+h}
\label{Transpose_8h_source}\index{include/Eigen/src/Core/Transpose.h@{include/Eigen/src/Core/Transpose.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2006-\/2008 Benoit Jacob <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{5 \textcolor{comment}{// Copyright (C) 2009-\/2014 Gael Guennebaud <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{6 \textcolor{comment}{//}}
\DoxyCodeLine{7 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{8 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{9 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef EIGEN\_TRANSPOSE\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define EIGEN\_TRANSPOSE\_H}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}./InternalHeaderCheck.h"{}}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{19 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType>}
\DoxyCodeLine{20 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Transpose}{Transpose}}<MatrixType> > : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<MatrixType>}
\DoxyCodeLine{21 \{}
\DoxyCodeLine{22   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1ref__selector}{ref\_selector<MatrixType>::type}} MatrixTypeNested;}
\DoxyCodeLine{23   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} remove\_reference<MatrixTypeNested>::type MatrixTypeNestedPlain;}
\DoxyCodeLine{24   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{25     RowsAtCompileTime = MatrixType::ColsAtCompileTime,}
\DoxyCodeLine{26     ColsAtCompileTime = MatrixType::RowsAtCompileTime,}
\DoxyCodeLine{27     MaxRowsAtCompileTime = MatrixType::MaxColsAtCompileTime,}
\DoxyCodeLine{28     MaxColsAtCompileTime = MatrixType::MaxRowsAtCompileTime,}
\DoxyCodeLine{29     FlagsLvalueBit = \mbox{\hyperlink{structEigen_1_1internal_1_1is__lvalue}{is\_lvalue<MatrixType>::value}} ? \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}} : 0,}
\DoxyCodeLine{30     Flags0 = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits<MatrixTypeNestedPlain>::Flags}} \& \string~(\mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}} | NestByRefBit),}
\DoxyCodeLine{31     Flags1 = Flags0 | FlagsLvalueBit,}
\DoxyCodeLine{32     Flags = Flags1 \string^ \mbox{\hyperlink{group__flags_gae4f56c2a60bbe4bd2e44c5b19cbe8762}{RowMajorBit}},}
\DoxyCodeLine{33     InnerStrideAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1inner__stride__at__compile__time}{inner\_stride\_at\_compile\_time<MatrixType>::ret}},}
\DoxyCodeLine{34     OuterStrideAtCompileTime = \mbox{\hyperlink{structEigen_1_1internal_1_1outer__stride__at__compile__time}{outer\_stride\_at\_compile\_time<MatrixType>::ret}}}
\DoxyCodeLine{35   \};}
\DoxyCodeLine{36 \};}
\DoxyCodeLine{37 \}}
\DoxyCodeLine{38 }
\DoxyCodeLine{39 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType, \textcolor{keyword}{typename} StorageKind> \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}};}
\DoxyCodeLine{40 }
\DoxyCodeLine{54 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType> \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1Transpose}{Transpose}}}
\DoxyCodeLine{55   : \textcolor{keyword}{public} \mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}}<MatrixType,typename internal::traits<MatrixType>::StorageKind>}
\DoxyCodeLine{56 \{}
\DoxyCodeLine{57   \textcolor{keyword}{public}:}
\DoxyCodeLine{58 }
\DoxyCodeLine{59     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{internal::ref\_selector<MatrixType>::non\_const\_type}} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{MatrixTypeNested}};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl<MatrixType,typename internal::traits<MatrixType>::StorageKind}}>::Base \mbox{\hyperlink{classBase}{Base}};}
\DoxyCodeLine{62     EIGEN\_GENERIC\_PUBLIC\_INTERFACE(\mbox{\hyperlink{classEigen_1_1Transpose}{Transpose}})}
\DoxyCodeLine{63     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::remove\_all<MatrixType>::type NestedExpression;}
\DoxyCodeLine{64 }
\DoxyCodeLine{65     EIGEN\_DEVICE\_FUNC}
\DoxyCodeLine{66     \textcolor{keyword}{explicit} EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Transpose}{Transpose}}(MatrixType\& matrix) : m\_matrix(matrix) \{\}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Transpose}{Transpose}})}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE EIGEN\_CONSTEXPR}
\DoxyCodeLine{71     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} rows() \textcolor{keyword}{const} EIGEN\_NOEXCEPT \{ \textcolor{keywordflow}{return} m\_matrix.cols(); \}}
\DoxyCodeLine{72     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE EIGEN\_CONSTEXPR}
\DoxyCodeLine{73     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} cols() \textcolor{keyword}{const} EIGEN\_NOEXCEPT \{ \textcolor{keywordflow}{return} m\_matrix.rows(); \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{76     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{77     \textcolor{keyword}{const} \textcolor{keyword}{typename} internal::remove\_all<MatrixTypeNested>::type\&}
\DoxyCodeLine{78     \mbox{\hyperlink{classEigen_1_1Transpose_ad7a6e63756170ed6bf8512f7ee795a69}{nestedExpression}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_matrix; \}}
\DoxyCodeLine{79 }
\DoxyCodeLine{81     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{82     \textcolor{keyword}{typename} internal::remove\_reference<MatrixTypeNested>::type\&}
\DoxyCodeLine{83     \mbox{\hyperlink{classEigen_1_1Transpose_abb1075bab7c3f83918b1a659c2333fb7}{nestedExpression}}() \{ \textcolor{keywordflow}{return} m\_matrix; \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{86     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{87     \textcolor{keywordtype}{void} resize(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} nrows, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} ncols) \{}
\DoxyCodeLine{88       m\_matrix.resize(ncols,nrows);}
\DoxyCodeLine{89     \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91   \textcolor{keyword}{protected}:}
\DoxyCodeLine{92     \textcolor{keyword}{typename} internal::ref\_selector<MatrixType>::non\_const\_type m\_matrix;}
\DoxyCodeLine{93 \};}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{96 }
\DoxyCodeLine{97 template<typename MatrixType, bool HasDirectAccess = has\_direct\_access<MatrixType>::ret>}
\DoxyCodeLine{98 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1TransposeImpl__base}{TransposeImpl\_base}}}
\DoxyCodeLine{99 \{}
\DoxyCodeLine{100   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1dense__xpr__base}{dense\_xpr\_base<Transpose<MatrixType>}} >::type type;}
\DoxyCodeLine{101 \};}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType>}
\DoxyCodeLine{104 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1TransposeImpl__base}{TransposeImpl\_base}}<MatrixType, false>}
\DoxyCodeLine{105 \{}
\DoxyCodeLine{106   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1dense__xpr__base}{dense\_xpr\_base<Transpose<MatrixType>}} >::type type;}
\DoxyCodeLine{107 \};}
\DoxyCodeLine{108 }
\DoxyCodeLine{109 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{110 }
\DoxyCodeLine{111 \textcolor{comment}{// Generic API dispatcher}}
\DoxyCodeLine{112 \textcolor{keyword}{template}<\textcolor{keyword}{typename} XprType, \textcolor{keyword}{typename} StorageKind>}
\DoxyCodeLine{113 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}}}
\DoxyCodeLine{114   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1internal_1_1generic__xpr__base}{internal::generic\_xpr\_base}}<Transpose<XprType> >::type}
\DoxyCodeLine{115 \{}
\DoxyCodeLine{116 \textcolor{keyword}{public}:}
\DoxyCodeLine{117   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1generic__xpr__base}{internal::generic\_xpr\_base<Transpose<XprType>}} >::type \mbox{\hyperlink{classBase}{Base}};}
\DoxyCodeLine{118 \};}
\DoxyCodeLine{119 }
\DoxyCodeLine{120 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType> \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}}<MatrixType,\mbox{\hyperlink{structEigen_1_1Dense}{Dense}}>}
\DoxyCodeLine{121   : \textcolor{keyword}{public} \mbox{\hyperlink{structEigen_1_1internal_1_1TransposeImpl__base}{internal::TransposeImpl\_base}}<MatrixType>::type}
\DoxyCodeLine{122 \{}
\DoxyCodeLine{123   \textcolor{keyword}{public}:}
\DoxyCodeLine{124 }
\DoxyCodeLine{125     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::TransposeImpl\_base<MatrixType>::type \mbox{\hyperlink{classBase}{Base}};}
\DoxyCodeLine{126     \textcolor{keyword}{using} Base::coeffRef;}
\DoxyCodeLine{127     EIGEN\_DENSE\_PUBLIC\_INTERFACE(\mbox{\hyperlink{classEigen_1_1Transpose}{Transpose<MatrixType>}})}
\DoxyCodeLine{128     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}})}
\DoxyCodeLine{129 }
\DoxyCodeLine{130     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{131     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} innerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().nestedExpression().innerStride(); \}}
\DoxyCodeLine{132     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{133     \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} outerStride()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().nestedExpression().outerStride(); \}}
\DoxyCodeLine{134 }
\DoxyCodeLine{135     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1conditional}{internal::conditional}}<}
\DoxyCodeLine{136                        \mbox{\hyperlink{structEigen_1_1internal_1_1is__lvalue}{internal::is\_lvalue<MatrixType>::value}},}
\DoxyCodeLine{137                        Scalar,}
\DoxyCodeLine{138                        \textcolor{keyword}{const} Scalar}
\DoxyCodeLine{139                      >::type \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{ScalarWithConstIfNotLvalue}};}
\DoxyCodeLine{140 }
\DoxyCodeLine{141     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{142     \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{ScalarWithConstIfNotLvalue}}* data() \{ \textcolor{keywordflow}{return} derived().nestedExpression().data(); \}}
\DoxyCodeLine{143     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{144     \textcolor{keyword}{const} Scalar* data()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().nestedExpression().data(); \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146     \textcolor{comment}{// FIXME: shall we keep the const version of coeffRef?}}
\DoxyCodeLine{147     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{148     \textcolor{keyword}{const} Scalar\& coeffRef(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} rowId, \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} colId)\textcolor{keyword}{ const}}
\DoxyCodeLine{149 \textcolor{keyword}{    }\{}
\DoxyCodeLine{150       \textcolor{keywordflow}{return} derived().nestedExpression().coeffRef(colId, rowId);}
\DoxyCodeLine{151     \}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153     EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{154     \textcolor{keyword}{const} Scalar\& coeffRef(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} index)\textcolor{keyword}{ const}}
\DoxyCodeLine{155 \textcolor{keyword}{    }\{}
\DoxyCodeLine{156       \textcolor{keywordflow}{return} derived().nestedExpression().coeffRef(index);}
\DoxyCodeLine{157     \}}
\DoxyCodeLine{158   \textcolor{keyword}{protected}:}
\DoxyCodeLine{159     EIGEN\_DEFAULT\_EMPTY\_CONSTRUCTOR\_AND\_DESTRUCTOR(\mbox{\hyperlink{classEigen_1_1TransposeImpl}{TransposeImpl}})}
\DoxyCodeLine{160 \};}
\DoxyCodeLine{161 }
\DoxyCodeLine{181 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{182 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{183 \mbox{\hyperlink{classEigen_1_1Transpose}{Transpose<Derived>}}}
\DoxyCodeLine{184 \mbox{\hyperlink{classEigen_1_1DenseBase_af891b9782f712151a471b3d7cfaaa2e8}{DenseBase<Derived>::transpose}}()}
\DoxyCodeLine{185 \{}
\DoxyCodeLine{186   \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Transpose}{TransposeReturnType}}(derived());}
\DoxyCodeLine{187 \}}
\DoxyCodeLine{188 }
\DoxyCodeLine{194 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{195 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE}
\DoxyCodeLine{196 \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1Diagonal}{DenseBase<Derived>::ConstTransposeReturnType}}}
\DoxyCodeLine{197 \mbox{\hyperlink{classEigen_1_1DenseBase_af891b9782f712151a471b3d7cfaaa2e8}{DenseBase<Derived>::transpose}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{198 \textcolor{keyword}{}\{}
\DoxyCodeLine{199   \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Diagonal}{ConstTransposeReturnType}}(derived());}
\DoxyCodeLine{200 \}}
\DoxyCodeLine{201 }
\DoxyCodeLine{221 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{222 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{MatrixBase<Derived>::AdjointReturnType}}}
\DoxyCodeLine{223 \mbox{\hyperlink{classEigen_1_1MatrixBase_a73d8782980bd75141785340d3a7a8e10}{MatrixBase<Derived>::adjoint}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{224 \textcolor{keyword}{}\{}
\DoxyCodeLine{225   \textcolor{keywordflow}{return} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{AdjointReturnType}}(this-\/>transpose());}
\DoxyCodeLine{226 \}}
\DoxyCodeLine{227 }
\DoxyCodeLine{228 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{229 \textcolor{comment}{* "{}in place"{} transpose implementation}}
\DoxyCodeLine{230 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{231 }
\DoxyCodeLine{232 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{233 }
\DoxyCodeLine{234 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType,}
\DoxyCodeLine{235   \textcolor{keywordtype}{bool} IsSquare = (MatrixType::RowsAtCompileTime == MatrixType::ColsAtCompileTime) \&\& MatrixType::RowsAtCompileTime!=\mbox{\hyperlink{namespaceEigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}},}
\DoxyCodeLine{236   \textcolor{keywordtype}{bool} MatchPacketSize =}
\DoxyCodeLine{237         (\textcolor{keywordtype}{int}(MatrixType::RowsAtCompileTime) == int(\mbox{\hyperlink{structEigen_1_1internal_1_1packet__traits}{internal::packet\_traits<typename MatrixType::Scalar>::size}}))}
\DoxyCodeLine{238     \&\&  (\mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<MatrixType>::Flags}}\&\mbox{\hyperlink{group__flags_ga1a306a438e1ab074e8be59512e887b9f}{PacketAccessBit}}) >}
\DoxyCodeLine{239 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1inplace__transpose__selector}{inplace\_transpose\_selector}};}
\DoxyCodeLine{240 }
\DoxyCodeLine{241 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType>}
\DoxyCodeLine{242 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1inplace__transpose__selector}{inplace\_transpose\_selector}}<MatrixType,true,false> \{ \textcolor{comment}{// square matrix}}
\DoxyCodeLine{243   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(MatrixType\& m) \{}
\DoxyCodeLine{244     m.matrix().template triangularView<StrictlyUpper>().swap(m.matrix().transpose().template triangularView<StrictlyUpper>());}
\DoxyCodeLine{245   \}}
\DoxyCodeLine{246 \};}
\DoxyCodeLine{247 }
\DoxyCodeLine{248 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType>}
\DoxyCodeLine{249 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1inplace__transpose__selector}{inplace\_transpose\_selector}}<MatrixType,true,true> \{ \textcolor{comment}{// PacketSize x PacketSize}}
\DoxyCodeLine{250   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(MatrixType\& m) \{}
\DoxyCodeLine{251     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{252     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::packet\_traits<typename MatrixType::Scalar>::type \mbox{\hyperlink{unionEigen_1_1internal_1_1Packet}{Packet}};}
\DoxyCodeLine{253     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} PacketSize = \mbox{\hyperlink{structEigen_1_1internal_1_1packet__traits}{internal::packet\_traits<Scalar>::size}};}
\DoxyCodeLine{254     \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} Alignment = \mbox{\hyperlink{structEigen_1_1internal_1_1evaluator}{internal::evaluator<MatrixType>::Alignment}};}
\DoxyCodeLine{255     \mbox{\hyperlink{structEigen_1_1internal_1_1PacketBlock}{PacketBlock<Packet>}} A;}
\DoxyCodeLine{256     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i)}
\DoxyCodeLine{257       A.packet[i] = m.template packetByOuterInner<Alignment>(i,0);}
\DoxyCodeLine{258     internal::ptranspose(A);}
\DoxyCodeLine{259     \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i)}
\DoxyCodeLine{260       m.template writePacket<Alignment>(m.rowIndexByOuterInner(i,0), m.colIndexByOuterInner(i,0), A.packet[i]);}
\DoxyCodeLine{261   \}}
\DoxyCodeLine{262 \};}
\DoxyCodeLine{263 }
\DoxyCodeLine{264 }
\DoxyCodeLine{265 \textcolor{keyword}{template} <\textcolor{keyword}{typename} MatrixType, Index Alignment>}
\DoxyCodeLine{266 \textcolor{keywordtype}{void} BlockedInPlaceTranspose(MatrixType\& m) \{}
\DoxyCodeLine{267   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{268   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} internal::packet\_traits<typename MatrixType::Scalar>::type \mbox{\hyperlink{unionEigen_1_1internal_1_1Packet}{Packet}};}
\DoxyCodeLine{269   \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} PacketSize = \mbox{\hyperlink{structEigen_1_1internal_1_1packet__traits}{internal::packet\_traits<Scalar>::size}};}
\DoxyCodeLine{270   eigen\_assert(m.rows() == m.cols());}
\DoxyCodeLine{271   \textcolor{keywordtype}{int} row\_start = 0;}
\DoxyCodeLine{272   \textcolor{keywordflow}{for} (; row\_start + PacketSize <= m.rows(); row\_start += PacketSize) \{}
\DoxyCodeLine{273     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} col\_start = row\_start; col\_start + PacketSize <= m.cols(); col\_start += PacketSize) \{}
\DoxyCodeLine{274       \mbox{\hyperlink{structEigen_1_1internal_1_1PacketBlock}{PacketBlock<Packet>}} A;}
\DoxyCodeLine{275       \textcolor{keywordflow}{if} (row\_start == col\_start) \{}
\DoxyCodeLine{276         \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i)}
\DoxyCodeLine{277           A.packet[i] = m.template packetByOuterInner<Alignment>(row\_start + i,col\_start);}
\DoxyCodeLine{278         internal::ptranspose(A);}
\DoxyCodeLine{279         \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i)}
\DoxyCodeLine{280           m.template writePacket<Alignment>(m.rowIndexByOuterInner(row\_start + i, col\_start), m.colIndexByOuterInner(row\_start + i,col\_start), A.packet[i]);}
\DoxyCodeLine{281       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{282         PacketBlock<Packet> B;}
\DoxyCodeLine{283         \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i) \{}
\DoxyCodeLine{284           A.packet[i] = m.template packetByOuterInner<Alignment>(row\_start + i,col\_start);}
\DoxyCodeLine{285           B.packet[i] = m.template packetByOuterInner<Alignment>(col\_start + i, row\_start);}
\DoxyCodeLine{286         \}}
\DoxyCodeLine{287         internal::ptranspose(A);}
\DoxyCodeLine{288         internal::ptranspose(B);}
\DoxyCodeLine{289         \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i=0; i<PacketSize; ++i) \{}
\DoxyCodeLine{290           m.template writePacket<Alignment>(m.rowIndexByOuterInner(row\_start + i, col\_start), m.colIndexByOuterInner(row\_start + i,col\_start), B.packet[i]);}
\DoxyCodeLine{291           m.template writePacket<Alignment>(m.rowIndexByOuterInner(col\_start + i, row\_start), m.colIndexByOuterInner(col\_start + i,row\_start), A.packet[i]);}
\DoxyCodeLine{292         \}}
\DoxyCodeLine{293       \}}
\DoxyCodeLine{294     \}}
\DoxyCodeLine{295   \}}
\DoxyCodeLine{296   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} row = row\_start; row < m.rows(); ++row) \{}
\DoxyCodeLine{297     m.matrix().row(row).head(row).swap(}
\DoxyCodeLine{298         m.matrix().col(row).head(row).transpose());}
\DoxyCodeLine{299   \}}
\DoxyCodeLine{300 \}}
\DoxyCodeLine{301 }
\DoxyCodeLine{302 \textcolor{keyword}{template}<\textcolor{keyword}{typename} MatrixType,\textcolor{keywordtype}{bool} MatchPacketSize>}
\DoxyCodeLine{303 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1inplace__transpose__selector}{inplace\_transpose\_selector}}<MatrixType,false,MatchPacketSize> \{ \textcolor{comment}{// non square or dynamic matrix}}
\DoxyCodeLine{304   \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(MatrixType\& m) \{}
\DoxyCodeLine{305     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} MatrixType::Scalar Scalar;}
\DoxyCodeLine{306     \textcolor{keywordflow}{if} (m.rows() == m.cols()) \{}
\DoxyCodeLine{307       \textcolor{keyword}{const} \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} PacketSize = \mbox{\hyperlink{structEigen_1_1internal_1_1packet__traits}{internal::packet\_traits<Scalar>::size}};}
\DoxyCodeLine{308       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::IsComplex}} \&\& m.rows() >= PacketSize) \{}
\DoxyCodeLine{309         \textcolor{keywordflow}{if} ((m.rows() \% PacketSize) == 0)}
\DoxyCodeLine{310           BlockedInPlaceTranspose<MatrixType,internal::evaluator<MatrixType>::Alignment>(m);}
\DoxyCodeLine{311         \textcolor{keywordflow}{else}}
\DoxyCodeLine{312           BlockedInPlaceTranspose<MatrixType,Unaligned>(m);}
\DoxyCodeLine{313       \}}
\DoxyCodeLine{314       \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{315         m.matrix().template triangularView<StrictlyUpper>().swap(m.matrix().transpose().template triangularView<StrictlyUpper>());}
\DoxyCodeLine{316       \}}
\DoxyCodeLine{317     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{318       m = m.transpose().eval();}
\DoxyCodeLine{319     \}}
\DoxyCodeLine{320   \}}
\DoxyCodeLine{321 \};}
\DoxyCodeLine{322 }
\DoxyCodeLine{323 }
\DoxyCodeLine{324 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{325 }
\DoxyCodeLine{345 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{346 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classEigen_1_1DenseBase_a2bf1856f4ff79f0db0e6d416a2edfb0f}{DenseBase<Derived>::transposeInPlace}}()}
\DoxyCodeLine{347 \{}
\DoxyCodeLine{348   eigen\_assert((rows() == cols() || (RowsAtCompileTime == \mbox{\hyperlink{namespaceEigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}} \&\& ColsAtCompileTime == \mbox{\hyperlink{namespaceEigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}}))}
\DoxyCodeLine{349                \&\& \textcolor{stringliteral}{"{}transposeInPlace() called on a non-\/square non-\/resizable matrix"{}});}
\DoxyCodeLine{350   \mbox{\hyperlink{structEigen_1_1internal_1_1inplace__transpose__selector}{internal::inplace\_transpose\_selector<Derived>::run}}(derived());}
\DoxyCodeLine{351 \}}
\DoxyCodeLine{352 }
\DoxyCodeLine{353 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{354 \textcolor{comment}{* "{}in place"{} adjoint implementation}}
\DoxyCodeLine{355 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{356 }
\DoxyCodeLine{376 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{377 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classEigen_1_1MatrixBase_ad2a2f67a3a6e5f65f41ab47e78bbf904}{MatrixBase<Derived>::adjointInPlace}}()}
\DoxyCodeLine{378 \{}
\DoxyCodeLine{379   derived() = adjoint().eval();}
\DoxyCodeLine{380 \}}
\DoxyCodeLine{381 }
\DoxyCodeLine{382 \textcolor{preprocessor}{\#ifndef EIGEN\_NO\_DEBUG}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384 \textcolor{comment}{// The following is to detect aliasing problems in most common cases.}}
\DoxyCodeLine{385 }
\DoxyCodeLine{386 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{387 }
\DoxyCodeLine{388 \textcolor{keyword}{template}<\textcolor{keywordtype}{bool} DestIsTransposed, \textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{389 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__compile__time__selector}{check\_transpose\_aliasing\_compile\_time\_selector}}}
\DoxyCodeLine{390 \{}
\DoxyCodeLine{391   \textcolor{keyword}{enum} \{ ret = bool(\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<OtherDerived>::IsTransposed}}) != DestIsTransposed \};}
\DoxyCodeLine{392 \};}
\DoxyCodeLine{393 }
\DoxyCodeLine{394 \textcolor{keyword}{template}<\textcolor{keywordtype}{bool} DestIsTransposed, \textcolor{keyword}{typename} BinOp, \textcolor{keyword}{typename} DerivedA, \textcolor{keyword}{typename} DerivedB>}
\DoxyCodeLine{395 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__compile__time__selector}{check\_transpose\_aliasing\_compile\_time\_selector}}<DestIsTransposed,\mbox{\hyperlink{classEigen_1_1CwiseBinaryOp}{CwiseBinaryOp}}<BinOp,DerivedA,DerivedB> >}
\DoxyCodeLine{396 \{}
\DoxyCodeLine{397   \textcolor{keyword}{enum} \{ ret =    bool(\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<DerivedA>::IsTransposed}}) != DestIsTransposed}
\DoxyCodeLine{398                || bool(\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<DerivedB>::IsTransposed}}) != DestIsTransposed}
\DoxyCodeLine{399   \};}
\DoxyCodeLine{400 \};}
\DoxyCodeLine{401 }
\DoxyCodeLine{402 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{bool} DestIsTransposed, \textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{403 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__run__time__selector}{check\_transpose\_aliasing\_run\_time\_selector}}}
\DoxyCodeLine{404 \{}
\DoxyCodeLine{405   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} run(\textcolor{keyword}{const} Scalar* dest, \textcolor{keyword}{const} OtherDerived\& src)}
\DoxyCodeLine{406   \{}
\DoxyCodeLine{407     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{bool}(\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<OtherDerived>::IsTransposed}}) != DestIsTransposed) \&\& (dest!=0 \&\& dest==(\textcolor{keyword}{const} Scalar*)extract\_data(src));}
\DoxyCodeLine{408   \}}
\DoxyCodeLine{409 \};}
\DoxyCodeLine{410 }
\DoxyCodeLine{411 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{bool} DestIsTransposed, \textcolor{keyword}{typename} BinOp, \textcolor{keyword}{typename} DerivedA, \textcolor{keyword}{typename} DerivedB>}
\DoxyCodeLine{412 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__run__time__selector}{check\_transpose\_aliasing\_run\_time\_selector}}<Scalar,DestIsTransposed,\mbox{\hyperlink{classEigen_1_1CwiseBinaryOp}{CwiseBinaryOp}}<BinOp,DerivedA,DerivedB> >}
\DoxyCodeLine{413 \{}
\DoxyCodeLine{414   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} run(\textcolor{keyword}{const} Scalar* dest, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1CwiseBinaryOp}{CwiseBinaryOp<BinOp,DerivedA,DerivedB>}}\& src)}
\DoxyCodeLine{415   \{}
\DoxyCodeLine{416     \textcolor{keywordflow}{return} ((\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<DerivedA>::IsTransposed}} != DestIsTransposed) \&\& (dest!=0 \&\& dest==(\textcolor{keyword}{const} Scalar*)extract\_data(src.\mbox{\hyperlink{classEigen_1_1CwiseBinaryOp_ae42aa9e1940f262f443d0138b6e840cd}{lhs}}())))}
\DoxyCodeLine{417         || ((\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<DerivedB>::IsTransposed}} != DestIsTransposed) \&\& (dest!=0 \&\& dest==(\textcolor{keyword}{const} Scalar*)extract\_data(src.\mbox{\hyperlink{classEigen_1_1CwiseBinaryOp_a243d6e1e98290a0a57cddd7f58472b25}{rhs}}())));}
\DoxyCodeLine{418   \}}
\DoxyCodeLine{419 \};}
\DoxyCodeLine{420 }
\DoxyCodeLine{421 \textcolor{comment}{// the following selector, checkTransposeAliasing\_impl, based on MightHaveTransposeAliasing,}}
\DoxyCodeLine{422 \textcolor{comment}{// is because when the condition controlling the assert is known at compile time, ICC emits a warning.}}
\DoxyCodeLine{423 \textcolor{comment}{// This is actually a good warning: in expressions that don't have any transposing, the condition is}}
\DoxyCodeLine{424 \textcolor{comment}{// known at compile time to be false, and using that, we can avoid generating the code of the assert again}}
\DoxyCodeLine{425 \textcolor{comment}{// and again for all these expressions that don't need it.}}
\DoxyCodeLine{426 }
\DoxyCodeLine{427 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived, \textcolor{keyword}{typename} OtherDerived,}
\DoxyCodeLine{428          \textcolor{keywordtype}{bool} MightHaveTransposeAliasing}
\DoxyCodeLine{429                  = \mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__compile__time__selector}{check\_transpose\_aliasing\_compile\_time\_selector}}}
\DoxyCodeLine{430                      <\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<Derived>::IsTransposed}},OtherDerived>::ret}
\DoxyCodeLine{431         >}
\DoxyCodeLine{432 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1checkTransposeAliasing__impl}{checkTransposeAliasing\_impl}}}
\DoxyCodeLine{433 \{}
\DoxyCodeLine{434     \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\textcolor{keyword}{const} Derived\& dst, \textcolor{keyword}{const} OtherDerived\& other)}
\DoxyCodeLine{435     \{}
\DoxyCodeLine{436         eigen\_assert((!\mbox{\hyperlink{structEigen_1_1internal_1_1check__transpose__aliasing__run__time__selector}{check\_transpose\_aliasing\_run\_time\_selector}}}
\DoxyCodeLine{437                       <\textcolor{keyword}{typename} Derived::Scalar,\mbox{\hyperlink{structEigen_1_1internal_1_1blas__traits}{blas\_traits<Derived>::IsTransposed}},OtherDerived>}
\DoxyCodeLine{438                       ::run(extract\_data(dst), other))}
\DoxyCodeLine{439           \&\& \textcolor{stringliteral}{"{}aliasing detected during transposition, use transposeInPlace() "{}}}
\DoxyCodeLine{440              \textcolor{stringliteral}{"{}or evaluate the rhs into a temporary using .eval()"{}});}
\DoxyCodeLine{441 }
\DoxyCodeLine{442     \}}
\DoxyCodeLine{443 \};}
\DoxyCodeLine{444 }
\DoxyCodeLine{445 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived, \textcolor{keyword}{typename} OtherDerived>}
\DoxyCodeLine{446 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1checkTransposeAliasing__impl}{checkTransposeAliasing\_impl}}<Derived, OtherDerived, false>}
\DoxyCodeLine{447 \{}
\DoxyCodeLine{448     \textcolor{keyword}{static} \textcolor{keywordtype}{void} run(\textcolor{keyword}{const} Derived\&, \textcolor{keyword}{const} OtherDerived\&)}
\DoxyCodeLine{449     \{}
\DoxyCodeLine{450     \}}
\DoxyCodeLine{451 \};}
\DoxyCodeLine{452 }
\DoxyCodeLine{453 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Dst, \textcolor{keyword}{typename} Src>}
\DoxyCodeLine{454 \textcolor{keywordtype}{void} check\_for\_aliasing(\textcolor{keyword}{const} Dst \&dst, \textcolor{keyword}{const} Src \&src)}
\DoxyCodeLine{455 \{}
\DoxyCodeLine{456   \textcolor{keywordflow}{if}((!Dst::IsVectorAtCompileTime) \&\& dst.rows()>1 \&\& dst.cols()>1)}
\DoxyCodeLine{457     \mbox{\hyperlink{structEigen_1_1internal_1_1checkTransposeAliasing__impl}{internal::checkTransposeAliasing\_impl<Dst, Src>::run}}(dst, src);}
\DoxyCodeLine{458 \}}
\DoxyCodeLine{459 }
\DoxyCodeLine{460 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_NO\_DEBUG}}
\DoxyCodeLine{463 }
\DoxyCodeLine{464 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{465 }
\DoxyCodeLine{466 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_TRANSPOSE\_H}}

\end{DoxyCode}
