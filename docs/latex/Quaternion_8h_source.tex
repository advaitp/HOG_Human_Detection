\hypertarget{Quaternion_8h_source}{}\doxysection{Quaternion.\+h}
\label{Quaternion_8h_source}\index{include/Eigen/src/Geometry/Quaternion.h@{include/Eigen/src/Geometry/Quaternion.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of Eigen, a lightweight C++ template library}}
\DoxyCodeLine{2 \textcolor{comment}{// for linear algebra.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Copyright (C) 2008-\/2010 Gael Guennebaud <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{5 \textcolor{comment}{// Copyright (C) 2009 Mathieu Gautier <mathieu.gautier@cea.fr>}}
\DoxyCodeLine{6 \textcolor{comment}{//}}
\DoxyCodeLine{7 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla}}
\DoxyCodeLine{8 \textcolor{comment}{// Public License v. 2.0. If a copy of the MPL was not distributed}}
\DoxyCodeLine{9 \textcolor{comment}{// with this file, You can obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifndef EIGEN\_QUATERNION\_H}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define EIGEN\_QUATERNION\_H}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}./InternalHeaderCheck.h"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceEigen}{Eigen}} \{ }
\DoxyCodeLine{16 }
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{19 \textcolor{comment}{* Definition of QuaternionBase<Derived>}}
\DoxyCodeLine{20 \textcolor{comment}{* The implementation is at the end of the file}}
\DoxyCodeLine{21 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{24 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Other,}
\DoxyCodeLine{25          \textcolor{keywordtype}{int} OtherRows=Other::RowsAtCompileTime,}
\DoxyCodeLine{26          \textcolor{keywordtype}{int} OtherCols=Other::ColsAtCompileTime>}
\DoxyCodeLine{27 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}};}
\DoxyCodeLine{28 \}}
\DoxyCodeLine{29 }
\DoxyCodeLine{36 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{37 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}} : \textcolor{keyword}{public} \mbox{\hyperlink{classEigen_1_1RotationBase}{RotationBase}}<Derived, 3>}
\DoxyCodeLine{38 \{}
\DoxyCodeLine{39  \textcolor{keyword}{public}:}
\DoxyCodeLine{40   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1RotationBase}{RotationBase<Derived, 3>}} \mbox{\hyperlink{classEigen_1_1RotationBase}{Base}};}
\DoxyCodeLine{41 }
\DoxyCodeLine{42   \textcolor{keyword}{using} Base::operator*;}
\DoxyCodeLine{43   \textcolor{keyword}{using} Base::derived;}
\DoxyCodeLine{44 }
\DoxyCodeLine{45   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}} Scalar;}
\DoxyCodeLine{46   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::Real}} RealScalar;}
\DoxyCodeLine{47   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}} Coefficients;}
\DoxyCodeLine{48   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Coefficients::CoeffReturnType CoeffReturnType;}
\DoxyCodeLine{49   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1conditional}{internal::conditional}}<bool(\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Flags}}\&\mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}),}
\DoxyCodeLine{50                                         Scalar\&, CoeffReturnType>::type \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{NonConstCoeffReturnType}};}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 }
\DoxyCodeLine{53   \textcolor{keyword}{enum} \{}
\DoxyCodeLine{54     Flags = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{Eigen::internal::traits<Derived>::Flags}}}
\DoxyCodeLine{55   \};}
\DoxyCodeLine{56 }
\DoxyCodeLine{57  \textcolor{comment}{// typedef typename Matrix<Scalar,4,1> Coefficients;}}
\DoxyCodeLine{59 \textcolor{comment}{}  \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,3,1>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a974c0529d55983b0b3a6d99a8466f331}{Vector3}};}
\DoxyCodeLine{61   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,3,3>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_ac3972e6cb0f56cccbe9e3946a7e494f8}{Matrix3}};}
\DoxyCodeLine{63   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxis<Scalar>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_aed266c63b10a4028304901d9c8614199}{AngleAxisType}};}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 }
\DoxyCodeLine{66 }
\DoxyCodeLine{68   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} CoeffReturnType \mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().coeff(0); \}}
\DoxyCodeLine{70   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} CoeffReturnType \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().coeff(1); \}}
\DoxyCodeLine{72   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} CoeffReturnType \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().coeff(2); \}}
\DoxyCodeLine{74   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} CoeffReturnType \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().coeff(3); \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{77   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{NonConstCoeffReturnType}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_acf78705347fd7e4910004f2868f42350}{x}}() \{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().x(); \}}
\DoxyCodeLine{79   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{NonConstCoeffReturnType}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa4bf2ff0e4aa4b57d1d16ce21d17066f}{y}}() \{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().y(); \}}
\DoxyCodeLine{81   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{NonConstCoeffReturnType}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a39397e0e9fa7e0a02512fc3f50c95542}{z}}() \{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().z(); \}}
\DoxyCodeLine{83   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{NonConstCoeffReturnType}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_ab24b4111eef9a4085b1cfe33291f45a9}{w}}() \{ \textcolor{keywordflow}{return} this-\/>derived().coeffs().w(); \}}
\DoxyCodeLine{84 }
\DoxyCodeLine{86   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1VectorBlock}{VectorBlock<const Coefficients,3>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().template head<3>(); \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{89   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1VectorBlock}{VectorBlock<Coefficients,3>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a3464bef51c839f557a1e75c80d8ef167}{vec}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().template head<3>(); \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{92   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}}\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} derived().coeffs(); \}}
\DoxyCodeLine{93 }
\DoxyCodeLine{95   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Coefficients}}\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad2dd94e51c8f77c8d025913a49aaf7fd}{coeffs}}() \{ \textcolor{keywordflow}{return} derived().coeffs(); \}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97   EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& other);}
\DoxyCodeLine{98   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE Derived\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other);}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 \textcolor{comment}{// disabled this copy operator as it is giving very strange compilation errors when compiling}}
\DoxyCodeLine{101 \textcolor{comment}{// test\_stdvector with GCC 4.4.2. This looks like a GCC bug though, so feel free to re-\/enable it if it's}}
\DoxyCodeLine{102 \textcolor{comment}{// useful; however notice that we already have the templated operator= above and e.g. in MatrixBase}}
\DoxyCodeLine{103 \textcolor{comment}{// we didn't have to add, in addition to templated operator=, such a non-\/templated copy operator.}}
\DoxyCodeLine{104 \textcolor{comment}{//  Derived\& operator=(const QuaternionBase\& other)}}
\DoxyCodeLine{105 \textcolor{comment}{//  \{ return operator=<Derived>(other); \}}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107   EIGEN\_DEVICE\_FUNC Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_af2f49bb475fcfd4965803787c8784d13}{operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxisType}}\& aa);}
\DoxyCodeLine{108   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC Derived\& operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\& m);}
\DoxyCodeLine{109 }
\DoxyCodeLine{113   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a869ccdbfc40597182d30a758d48b2a79}{Identity}}() \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(Scalar(1), Scalar(0), Scalar(0), Scalar(0)); \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{117   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a2db6c89fd0c22344c504e294509ce224}{setIdentity}}() \{ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}() << Scalar(0), Scalar(0), Scalar(0), Scalar(1); \textcolor{keywordflow}{return} *\textcolor{keyword}{this}; \}}
\DoxyCodeLine{118 }
\DoxyCodeLine{122   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \mbox{\hyperlink{classEigen_1_1QuaternionBase_a5370cf77843374a5adefca3f78770961}{squaredNorm}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().squaredNorm(); \}}
\DoxyCodeLine{123 }
\DoxyCodeLine{127   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \mbox{\hyperlink{classEigen_1_1QuaternionBase_a3c317a676ccae923a9c4a5e80019be17}{norm}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().norm(); \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{131   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa8d67d855940925f634327827aed1cad}{normalize}}() \{ \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().normalize(); \}}
\DoxyCodeLine{134   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a2e53ffc8d50b7a591ddd77cc0ccfd2f9}{normalized}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().\mbox{\hyperlink{classEigen_1_1QuaternionBase_a2e53ffc8d50b7a591ddd77cc0ccfd2f9}{normalized}}()); \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{141   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Scalar \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa95c422b3d12869ed6aa46e4dd5a430a}{dot}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().dot(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}()); \}}
\DoxyCodeLine{142 }
\DoxyCodeLine{143   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC Scalar angularDistance(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other) \textcolor{keyword}{const};}
\DoxyCodeLine{144 }
\DoxyCodeLine{146   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix3}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a621c71eec9680bf77342b28a473b6874}{toRotationMatrix}}() \textcolor{keyword}{const};}
\DoxyCodeLine{147 }
\DoxyCodeLine{149   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived1, \textcolor{keyword}{typename} Derived2>}
\DoxyCodeLine{150   EIGEN\_DEVICE\_FUNC Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{setFromTwoVectors}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\& a, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\& b);}
\DoxyCodeLine{151 }
\DoxyCodeLine{152   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} operator* (\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& q) \textcolor{keyword}{const};}
\DoxyCodeLine{153   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad5fb3b0792f02b2863f4dc3c3c70ea2d}{operator*= }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& q);}
\DoxyCodeLine{154 }
\DoxyCodeLine{156   EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6a1d8af1fe34cb4127f705c0d10ef649}{inverse}}() \textcolor{keyword}{const};}
\DoxyCodeLine{157 }
\DoxyCodeLine{159   EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{conjugate}}() \textcolor{keyword}{const};}
\DoxyCodeLine{160 }
\DoxyCodeLine{161   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived> EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} slerp(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1RotationBase_a942f03c9a5bfbad71a313aee8d37887e}{Scalar}}\& t, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other) \textcolor{keyword}{const};}
\DoxyCodeLine{162 }
\DoxyCodeLine{167   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{168   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad9d3ad5fd4c6447b3618fa1a95e9800a}{operator==}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{169 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}() == other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}(); \}}
\DoxyCodeLine{170 }
\DoxyCodeLine{175   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{176   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a10c8bd7025522efaf0fcbb01ae9d5360}{operator!=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{177 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}() != other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}(); \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{183   \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{184   EIGEN\_DEVICE\_FUNC \textcolor{keywordtype}{bool} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a83c9e817b726fb798d3f2e15002a4241}{isApprox}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other, \textcolor{keyword}{const} RealScalar\& prec = \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::dummy\_precision}}())\textcolor{keyword}{ const}}
\DoxyCodeLine{185 \textcolor{keyword}{  }\{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().isApprox(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}(), prec); \}}
\DoxyCodeLine{186 }
\DoxyCodeLine{188   EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} \mbox{\hyperlink{classEigen_1_1QuaternionBase_a03896e1e743aae2c18a0146086cef983}{\_transformVector}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}}\& v) \textcolor{keyword}{const};}
\DoxyCodeLine{189 }
\DoxyCodeLine{190 \textcolor{preprocessor}{  \#ifdef EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{196   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>}
\DoxyCodeLine{197   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1cast__return__type}{internal::cast\_return\_type<Derived,Quaternion<NewScalarType>}} >::type cast() \textcolor{keyword}{const};}
\DoxyCodeLine{198 }
\DoxyCodeLine{199 \textcolor{preprocessor}{  \#else}}
\DoxyCodeLine{200 }
\DoxyCodeLine{201   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>}
\DoxyCodeLine{202   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline}}
\DoxyCodeLine{203   \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::is\_same<Scalar,NewScalarType>::value}},\textcolor{keyword}{const} Derived\&>::type cast()\textcolor{keyword}{ const}}
\DoxyCodeLine{204 \textcolor{keyword}{  }\{}
\DoxyCodeLine{205     \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{206   \}}
\DoxyCodeLine{207 }
\DoxyCodeLine{208   \textcolor{keyword}{template}<\textcolor{keyword}{typename} NewScalarType>}
\DoxyCodeLine{209   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline}}
\DoxyCodeLine{210   \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<!internal::is\_same<Scalar,NewScalarType>::value}},\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<NewScalarType>}} >::type cast()\textcolor{keyword}{ const}}
\DoxyCodeLine{211 \textcolor{keyword}{  }\{}
\DoxyCodeLine{212     \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<NewScalarType>}}(\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().\textcolor{keyword}{template} cast<NewScalarType>());}
\DoxyCodeLine{213   \}}
\DoxyCodeLine{214 \textcolor{preprocessor}{  \#endif}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 \textcolor{preprocessor}{\#ifndef EIGEN\_NO\_IO}}
\DoxyCodeLine{217   \textcolor{keyword}{friend} std::ostream\& operator<<(std::ostream\& s, \textcolor{keyword}{const} QuaternionBase<Derived>\& q) \{}
\DoxyCodeLine{218     s << q.x() << \textcolor{stringliteral}{"{}i + "{}} << q.y() << \textcolor{stringliteral}{"{}j + "{}} << q.z() << \textcolor{stringliteral}{"{}k"{}} << \textcolor{stringliteral}{"{} + "{}} << q.w();}
\DoxyCodeLine{219     \textcolor{keywordflow}{return} s;}
\DoxyCodeLine{220   \}}
\DoxyCodeLine{221 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{preprocessor}{\#ifdef EIGEN\_QUATERNIONBASE\_PLUGIN}}
\DoxyCodeLine{224 \textcolor{preprocessor}{\# include EIGEN\_QUATERNIONBASE\_PLUGIN}}
\DoxyCodeLine{225 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{226 \textcolor{keyword}{protected}:}
\DoxyCodeLine{227   EIGEN\_DEFAULT\_COPY\_CONSTRUCTOR(QuaternionBase)}
\DoxyCodeLine{228   EIGEN\_DEFAULT\_EMPTY\_CONSTRUCTOR\_AND\_DESTRUCTOR(QuaternionBase)}
\DoxyCodeLine{229 \};}
\DoxyCodeLine{230 }
\DoxyCodeLine{231 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{232 \textcolor{comment}{* Definition/implementation of Quaternion<Scalar>}}
\DoxyCodeLine{233 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{234 }
\DoxyCodeLine{260 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{261 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_,\textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{262 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_,Options\_> >}
\DoxyCodeLine{263 \{}
\DoxyCodeLine{264   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar\_,Options\_>}} \mbox{\hyperlink{classEigen_1_1Quaternion}{PlainObject}};}
\DoxyCodeLine{265   \textcolor{keyword}{typedef} Scalar\_ Scalar;}
\DoxyCodeLine{266   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar\_,4,1,Options\_>}} \mbox{\hyperlink{classEigen_1_1Matrix}{Coefficients}};}
\DoxyCodeLine{267   \textcolor{keyword}{enum}\{}
\DoxyCodeLine{268     Alignment = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Coefficients>::Alignment}},}
\DoxyCodeLine{269     Flags = \mbox{\hyperlink{group__flags_gae2c323957f20dfdc6cb8f44428eaec1a}{LvalueBit}}}
\DoxyCodeLine{270   \};}
\DoxyCodeLine{271 \};}
\DoxyCodeLine{272 \}}
\DoxyCodeLine{273 }
\DoxyCodeLine{274 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_, \textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{275 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}} : \textcolor{keyword}{public} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Quaternion<Scalar\_,Options\_> >}
\DoxyCodeLine{276 \{}
\DoxyCodeLine{277 \textcolor{keyword}{public}:}
\DoxyCodeLine{278   \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Quaternion<Scalar\_,Options\_>}} > \mbox{\hyperlink{classEigen_1_1QuaternionBase}{Base}};}
\DoxyCodeLine{279   \textcolor{keyword}{enum} \{ NeedsAlignment = \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Quaternion>::Alignment}}>0 \};}
\DoxyCodeLine{280 }
\DoxyCodeLine{281   \textcolor{keyword}{typedef} Scalar\_ Scalar;}
\DoxyCodeLine{282 }
\DoxyCodeLine{283   EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}})}
\DoxyCodeLine{284   \textcolor{keyword}{using} Base::operator*=;}
\DoxyCodeLine{285 }
\DoxyCodeLine{286   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Quaternion>::Coefficients}} Coefficients;}
\DoxyCodeLine{287   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1AngleAxis}{Base::AngleAxisType}} \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxisType}};}
\DoxyCodeLine{288 }
\DoxyCodeLine{290   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}}() \{\}}
\DoxyCodeLine{291 }
\DoxyCodeLine{299   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a6d9ae494b04da1e066e3a7f953670514}{Quaternion}}(\textcolor{keyword}{const} Scalar\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}, \textcolor{keyword}{const} Scalar\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}, \textcolor{keyword}{const} Scalar\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}, \textcolor{keyword}{const} Scalar\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}) : m\_coeffs(\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}, \mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}, \mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}, \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}})\{\}}
\DoxyCodeLine{300 }
\DoxyCodeLine{302   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a21f5745ee6d354ef47b2821f973a6d86}{Quaternion}}(\textcolor{keyword}{const} Scalar* data) : m\_coeffs(data) \{\}}
\DoxyCodeLine{303 }
\DoxyCodeLine{305   \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived> EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Quaternion_a4c3d42180231baa4d64e322bcff1860d}{Quaternion}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& other) \{ this-\/>Base::operator=(other); \}}
\DoxyCodeLine{306 }
\DoxyCodeLine{308   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a9ce0911ae86dbbe56088a8ba9e52eb07}{Quaternion}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxisType}}\& aa) \{ *\textcolor{keyword}{this} = aa; \}}
\DoxyCodeLine{309 }
\DoxyCodeLine{314   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived>}
\DoxyCodeLine{315   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_ad386d01de801b49546b3d7d58cc5c953}{Quaternion}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived>}}\& other) \{ *\textcolor{keyword}{this} = other; \}}
\DoxyCodeLine{316 }
\DoxyCodeLine{318   \textcolor{keyword}{template}<\textcolor{keyword}{typename} OtherScalar, \textcolor{keywordtype}{int} OtherOptions>}
\DoxyCodeLine{319   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a1494c098a299933564a1823375b52518}{Quaternion}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<OtherScalar, OtherOptions>}}\& other)}
\DoxyCodeLine{320   \{ m\_coeffs = other.coeffs().template cast<Scalar>(); \}}
\DoxyCodeLine{321 }
\DoxyCodeLine{322 \textcolor{preprocessor}{\#if EIGEN\_HAS\_RVALUE\_REFERENCES}}
\DoxyCodeLine{323   \textcolor{comment}{// We define a copy constructor, which means we don't get an implicit move constructor or assignment operator.}}
\DoxyCodeLine{325 \textcolor{comment}{}  EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}}(\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}\&\& other) EIGEN\_NOEXCEPT\_IF(std::is\_nothrow\_move\_constructible<Scalar>::value)}
\DoxyCodeLine{326     : m\_coeffs(std::move(other.coeffs()))}
\DoxyCodeLine{327   \{\}}
\DoxyCodeLine{328 }
\DoxyCodeLine{330   EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}}\& operator=(\mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}}\&\& other) EIGEN\_NOEXCEPT\_IF(std::is\_nothrow\_move\_assignable<Scalar>::value)}
\DoxyCodeLine{331   \{}
\DoxyCodeLine{332     m\_coeffs = std::move(other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}());}
\DoxyCodeLine{333     \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{334   \}}
\DoxyCodeLine{335 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{336 }
\DoxyCodeLine{337   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}} \mbox{\hyperlink{classEigen_1_1Quaternion_a8a61f4092bc520c7291e5b5e16e80d71}{UnitRandom}}();}
\DoxyCodeLine{338 }
\DoxyCodeLine{339   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived1, \textcolor{keyword}{typename} Derived2>}
\DoxyCodeLine{340   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \mbox{\hyperlink{classEigen_1_1Quaternion_a865fd93050b65381924cdff707ccc281}{Quaternion}} FromTwoVectors(\textcolor{keyword}{const} MatrixBase<Derived1>\& a, \textcolor{keyword}{const} MatrixBase<Derived2>\& b);}
\DoxyCodeLine{341 }
\DoxyCodeLine{342   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Coefficients\& coeffs() \{ \textcolor{keywordflow}{return} m\_coeffs;\}}
\DoxyCodeLine{343   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} Coefficients\& coeffs()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_coeffs;\}}
\DoxyCodeLine{344 }
\DoxyCodeLine{345   EIGEN\_MAKE\_ALIGNED\_OPERATOR\_NEW\_IF(\textcolor{keywordtype}{bool}(NeedsAlignment))}
\DoxyCodeLine{346 }
\DoxyCodeLine{347 \textcolor{preprocessor}{\#ifdef EIGEN\_QUATERNION\_PLUGIN}}
\DoxyCodeLine{348 \textcolor{preprocessor}{\# include EIGEN\_QUATERNION\_PLUGIN}}
\DoxyCodeLine{349 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{350 }
\DoxyCodeLine{351 \textcolor{keyword}{protected}:}
\DoxyCodeLine{352   Coefficients m\_coeffs;}
\DoxyCodeLine{353 }
\DoxyCodeLine{354 \textcolor{preprocessor}{\#ifndef EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{355   EIGEN\_STATIC\_ASSERT( (Options\_ \& \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a56908522e51443a0aa0567f879c2e78a}{DontAlign}}) == Options\_,}
\DoxyCodeLine{356                        INVALID\_MATRIX\_TEMPLATE\_PARAMETERS)}
\DoxyCodeLine{357 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{358 \};}
\DoxyCodeLine{359 }
\DoxyCodeLine{362 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<float>}} \mbox{\hyperlink{group__Geometry__Module_ga66aa915a26d698c60ed206818c3e4c9b}{Quaternionf}};}
\DoxyCodeLine{365 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<double>}} \mbox{\hyperlink{group__Geometry__Module_ga5daab8e66aa480465000308455578830}{Quaterniond}};}
\DoxyCodeLine{366 }
\DoxyCodeLine{367 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{368 \textcolor{comment}{* Specialization of Map<Quaternion<Scalar>>}}
\DoxyCodeLine{369 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{370 }
\DoxyCodeLine{371 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{372   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_, \textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{373   \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Map}{Map}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_>, Options\_> > : \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<Quaternion<Scalar\_, (int(Options\_)\&Aligned)==Aligned ? AutoAlign : DontAlign> >}
\DoxyCodeLine{374   \{}
\DoxyCodeLine{375     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<Matrix<Scalar\_,4,1>}}, Options\_> \mbox{\hyperlink{classEigen_1_1Map}{Coefficients}};}
\DoxyCodeLine{376   \};}
\DoxyCodeLine{377 \}}
\DoxyCodeLine{378 }
\DoxyCodeLine{379 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{380   \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_, \textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{381   \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Map}{Map}}<const \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_>, Options\_> > : \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<Quaternion<Scalar\_, (int(Options\_)\&Aligned)==Aligned ? AutoAlign : DontAlign> >}
\DoxyCodeLine{382   \{}
\DoxyCodeLine{383     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<const Matrix<Scalar\_,4,1>}}, Options\_> \mbox{\hyperlink{classEigen_1_1Map}{Coefficients}};}
\DoxyCodeLine{384     \textcolor{keyword}{typedef} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_, (int(Options\_)\&\mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}})==\mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}} ? \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13ad0e7f67d40bcde3d41c12849b16ce6ea}{AutoAlign}} : \mbox{\hyperlink{group__enums_ggaacded1a18ae58b0f554751f6cdf9eb13a56908522e51443a0aa0567f879c2e78a}{DontAlign}}> > \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{TraitsBase}};}
\DoxyCodeLine{385     \textcolor{keyword}{enum} \{}
\DoxyCodeLine{386       Flags = TraitsBase::Flags \& \string~LvalueBit}
\DoxyCodeLine{387     \};}
\DoxyCodeLine{388   \};}
\DoxyCodeLine{389 \}}
\DoxyCodeLine{390 }
\DoxyCodeLine{402 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_, \textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{403 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1Map}{Map}}<const \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_>, Options\_ >}
\DoxyCodeLine{404   : \textcolor{keyword}{public} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Map<const Quaternion<Scalar\_>, Options\_> >}
\DoxyCodeLine{405 \{}
\DoxyCodeLine{406   \textcolor{keyword}{public}:}
\DoxyCodeLine{407     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Map<const Quaternion<Scalar\_>}}, Options\_> > \mbox{\hyperlink{classEigen_1_1QuaternionBase}{Base}};}
\DoxyCodeLine{408 }
\DoxyCodeLine{409     \textcolor{keyword}{typedef} Scalar\_ Scalar;}
\DoxyCodeLine{410     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Map>::Coefficients}} Coefficients;}
\DoxyCodeLine{411     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Map}{Map}})}
\DoxyCodeLine{412     \textcolor{keyword}{using} Base::operator*=;}
\DoxyCodeLine{413 }
\DoxyCodeLine{420     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Map_3_01const_01Quaternion_3_01Scalar___01_4_00_01Options___01_4_ad0c62866c82980d7fdefe8b9206ae30c}{Map}}(\textcolor{keyword}{const} Scalar* coeffs) : m\_coeffs(coeffs) \{\}}
\DoxyCodeLine{421 }
\DoxyCodeLine{422     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} Coefficients\& coeffs()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_coeffs;\}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424   \textcolor{keyword}{protected}:}
\DoxyCodeLine{425     \textcolor{keyword}{const} Coefficients m\_coeffs;}
\DoxyCodeLine{426 \};}
\DoxyCodeLine{427 }
\DoxyCodeLine{439 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar\_, \textcolor{keywordtype}{int} Options\_>}
\DoxyCodeLine{440 \textcolor{keyword}{class }\mbox{\hyperlink{classEigen_1_1Map}{Map}}<\mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}}<Scalar\_>, Options\_ >}
\DoxyCodeLine{441   : \textcolor{keyword}{public} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase}}<Map<Quaternion<Scalar\_>, Options\_> >}
\DoxyCodeLine{442 \{}
\DoxyCodeLine{443   \textcolor{keyword}{public}:}
\DoxyCodeLine{444     \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Map<Quaternion<Scalar\_>}}, Options\_> > \mbox{\hyperlink{classEigen_1_1QuaternionBase}{Base}};}
\DoxyCodeLine{445 }
\DoxyCodeLine{446     \textcolor{keyword}{typedef} Scalar\_ Scalar;}
\DoxyCodeLine{447     \textcolor{keyword}{typedef} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Map>::Coefficients}} Coefficients;}
\DoxyCodeLine{448     EIGEN\_INHERIT\_ASSIGNMENT\_OPERATORS(\mbox{\hyperlink{classEigen_1_1Map}{Map}})}
\DoxyCodeLine{449     \textcolor{keyword}{using} Base::operator*=;}
\DoxyCodeLine{450 }
\DoxyCodeLine{457     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{explicit} EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Map_3_01Quaternion_3_01Scalar___01_4_00_01Options___01_4_a603539b6ea3ae8b5da4854744e83e397}{Map}}(Scalar* coeffs) : m\_coeffs(coeffs) \{\}}
\DoxyCodeLine{458 }
\DoxyCodeLine{459     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Coefficients\& coeffs() \{ \textcolor{keywordflow}{return} m\_coeffs; \}}
\DoxyCodeLine{460     EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{const} Coefficients\& coeffs()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_coeffs; \}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462   \textcolor{keyword}{protected}:}
\DoxyCodeLine{463     Coefficients m\_coeffs;}
\DoxyCodeLine{464 \};}
\DoxyCodeLine{465 }
\DoxyCodeLine{468 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<float>}}, 0>         \mbox{\hyperlink{group__Geometry__Module_ga867ff508ac860bdf7cab3b8a8fc1048d}{QuaternionMapf}};}
\DoxyCodeLine{471 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<double>}}, 0>        \mbox{\hyperlink{group__Geometry__Module_ga89412d1dcf23537e5990dfb3089ace76}{QuaternionMapd}};}
\DoxyCodeLine{474 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<float>}}, \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}}>   \mbox{\hyperlink{group__Geometry__Module_gadaf7f3ee984d9828ca94d66355f0b226}{QuaternionMapAlignedf}};}
\DoxyCodeLine{477 \textcolor{keyword}{typedef} \mbox{\hyperlink{classEigen_1_1Map}{Map<Quaternion<double>}}, \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ae12d0f8f869c40c76128260af2242bc8}{Aligned}}>  \mbox{\hyperlink{group__Geometry__Module_ga4289f38cc6ecf302e07d2365abc6a902}{QuaternionMapAlignedd}};}
\DoxyCodeLine{478 }
\DoxyCodeLine{479 \textcolor{comment}{/***************************************************************************}}
\DoxyCodeLine{480 \textcolor{comment}{* Implementation of QuaternionBase methods}}
\DoxyCodeLine{481 \textcolor{comment}{***************************************************************************/}}
\DoxyCodeLine{482 }
\DoxyCodeLine{483 \textcolor{comment}{// Generic Quaternion * Quaternion product}}
\DoxyCodeLine{484 \textcolor{comment}{// This product can be specialized for a given architecture via the Arch template argument.}}
\DoxyCodeLine{485 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{486 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Arch, \textcolor{keyword}{class} Derived1, \textcolor{keyword}{class} Derived2, \textcolor{keyword}{typename} Scalar> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1quat__product}{quat\_product}}}
\DoxyCodeLine{487 \{}
\DoxyCodeLine{488   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} run(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived1>}}\& a, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived2>}}\& b)\{}
\DoxyCodeLine{489     \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}}
\DoxyCodeLine{490     (}
\DoxyCodeLine{491       a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}(),}
\DoxyCodeLine{492       a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}(),}
\DoxyCodeLine{493       a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}(),}
\DoxyCodeLine{494       a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() + a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() -\/ a.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() * b.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}()}
\DoxyCodeLine{495     );}
\DoxyCodeLine{496   \}}
\DoxyCodeLine{497 \};}
\DoxyCodeLine{498 \}}
\DoxyCodeLine{499 }
\DoxyCodeLine{501 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{502 \textcolor{keyword}{template} <\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{503 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{504 \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::operator* }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{505 \textcolor{keyword}{}\{}
\DoxyCodeLine{506   EIGEN\_STATIC\_ASSERT((\mbox{\hyperlink{structEigen_1_1internal_1_1is__same}{internal::is\_same<typename Derived::Scalar, typename OtherDerived::Scalar>::value}}),}
\DoxyCodeLine{507    YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{508   \textcolor{keywordflow}{return} \mbox{\hyperlink{structEigen_1_1internal_1_1quat__product}{internal::quat\_product}}<Architecture::Target, Derived, OtherDerived,}
\DoxyCodeLine{509                          \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}>::run(*\textcolor{keyword}{this}, other);}
\DoxyCodeLine{510 \}}
\DoxyCodeLine{511 }
\DoxyCodeLine{513 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{514 \textcolor{keyword}{template} <\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{515 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_ad5fb3b0792f02b2863f4dc3c3c70ea2d}{QuaternionBase<Derived>::operator*= }}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)}
\DoxyCodeLine{516 \{}
\DoxyCodeLine{517   derived() = derived() * other.derived();}
\DoxyCodeLine{518   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{519 \}}
\DoxyCodeLine{520 }
\DoxyCodeLine{528 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{529 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1Matrix}{QuaternionBase<Derived>::Vector3}}}
\DoxyCodeLine{530 \mbox{\hyperlink{classEigen_1_1QuaternionBase_a03896e1e743aae2c18a0146086cef983}{QuaternionBase<Derived>::\_transformVector}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}}\& v)\textcolor{keyword}{ const}}
\DoxyCodeLine{531 \textcolor{keyword}{}\{}
\DoxyCodeLine{532     \textcolor{comment}{// Note that this algorithm comes from the optimization by hand}}
\DoxyCodeLine{533     \textcolor{comment}{// of the conversion to a Matrix followed by a Matrix/Vector product.}}
\DoxyCodeLine{534     \textcolor{comment}{// It appears to be much faster than the common algorithm found}}
\DoxyCodeLine{535     \textcolor{comment}{// in the literature (30 versus 39 flops). It also requires two}}
\DoxyCodeLine{536     \textcolor{comment}{// Vector3 as temporaries.}}
\DoxyCodeLine{537     \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} uv = this-\/>vec().cross(v);}
\DoxyCodeLine{538     uv += uv;}
\DoxyCodeLine{539     \textcolor{keywordflow}{return} v + this-\/>w() * uv + this-\/>vec().cross(uv);}
\DoxyCodeLine{540 \}}
\DoxyCodeLine{541 }
\DoxyCodeLine{542 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{543 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& other)}
\DoxyCodeLine{544 \{}
\DoxyCodeLine{545   coeffs() = other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}();}
\DoxyCodeLine{546   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{547 \}}
\DoxyCodeLine{548 }
\DoxyCodeLine{549 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{550 \textcolor{keyword}{template}<\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{551 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE Derived\& QuaternionBase<Derived>::operator=(\textcolor{keyword}{const} QuaternionBase<OtherDerived>\& other)}
\DoxyCodeLine{552 \{}
\DoxyCodeLine{553   coeffs() = other.coeffs();}
\DoxyCodeLine{554   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{555 \}}
\DoxyCodeLine{556 }
\DoxyCodeLine{559 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{560 EIGEN\_DEVICE\_FUNC EIGEN\_STRONG\_INLINE Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1AngleAxis}{AngleAxisType}}\& aa)}
\DoxyCodeLine{561 \{}
\DoxyCodeLine{562   EIGEN\_USING\_STD(cos)}
\DoxyCodeLine{563   EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{564   Scalar ha = Scalar(0.5)*aa.\mbox{\hyperlink{classEigen_1_1AngleAxis_a568011799ce229c7359a0071e32a6a99}{angle}}(); \textcolor{comment}{// Scalar(0.5) to suppress precision loss warnings}}
\DoxyCodeLine{565   this-\/>w() = cos(ha);}
\DoxyCodeLine{566   this-\/>vec() = sin(ha) * aa.\mbox{\hyperlink{classEigen_1_1AngleAxis_a0882a59e753ba131a3f34e6816bd21ac}{axis}}();}
\DoxyCodeLine{567   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{568 \}}
\DoxyCodeLine{569 }
\DoxyCodeLine{576 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{577 \textcolor{keyword}{template}<\textcolor{keyword}{class} MatrixDerived>}
\DoxyCodeLine{578 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::operator=}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<MatrixDerived>}}\& xpr)}
\DoxyCodeLine{579 \{}
\DoxyCodeLine{580   EIGEN\_STATIC\_ASSERT((\mbox{\hyperlink{structEigen_1_1internal_1_1is__same}{internal::is\_same<typename Derived::Scalar, typename MatrixDerived::Scalar>::value}}),}
\DoxyCodeLine{581    YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{582   \mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{internal::quaternionbase\_assign\_impl<MatrixDerived>::run}}(*\textcolor{keyword}{this}, xpr.derived());}
\DoxyCodeLine{583   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{584 \}}
\DoxyCodeLine{585 }
\DoxyCodeLine{589 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{590 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{classEigen_1_1Matrix}{QuaternionBase<Derived>::Matrix3}}}
\DoxyCodeLine{591 \mbox{\hyperlink{classEigen_1_1QuaternionBase_a621c71eec9680bf77342b28a473b6874}{QuaternionBase<Derived>::toRotationMatrix}}(\textcolor{keywordtype}{void})\textcolor{keyword}{ const}}
\DoxyCodeLine{592 \textcolor{keyword}{}\{}
\DoxyCodeLine{593   \textcolor{comment}{// NOTE if inlined, then gcc 4.2 and 4.4 get rid of the temporary (not gcc 4.3 !!)}}
\DoxyCodeLine{594   \textcolor{comment}{// if not inlined then the cost of the return by value is huge \string~ +35\%,}}
\DoxyCodeLine{595   \textcolor{comment}{// however, not inlining this function is an order of magnitude slower, so}}
\DoxyCodeLine{596   \textcolor{comment}{// it has to be inlined, and so the return by value is not an issue}}
\DoxyCodeLine{597   \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix3}} res;}
\DoxyCodeLine{598 }
\DoxyCodeLine{599   \textcolor{keyword}{const} Scalar tx  = Scalar(2)*this-\/>x();}
\DoxyCodeLine{600   \textcolor{keyword}{const} Scalar ty  = Scalar(2)*this-\/>y();}
\DoxyCodeLine{601   \textcolor{keyword}{const} Scalar tz  = Scalar(2)*this-\/>z();}
\DoxyCodeLine{602   \textcolor{keyword}{const} Scalar twx = tx*this-\/>w();}
\DoxyCodeLine{603   \textcolor{keyword}{const} Scalar twy = ty*this-\/>w();}
\DoxyCodeLine{604   \textcolor{keyword}{const} Scalar twz = tz*this-\/>w();}
\DoxyCodeLine{605   \textcolor{keyword}{const} Scalar txx = tx*this-\/>x();}
\DoxyCodeLine{606   \textcolor{keyword}{const} Scalar txy = ty*this-\/>x();}
\DoxyCodeLine{607   \textcolor{keyword}{const} Scalar txz = tz*this-\/>x();}
\DoxyCodeLine{608   \textcolor{keyword}{const} Scalar tyy = ty*this-\/>y();}
\DoxyCodeLine{609   \textcolor{keyword}{const} Scalar tyz = tz*this-\/>y();}
\DoxyCodeLine{610   \textcolor{keyword}{const} Scalar tzz = tz*this-\/>z();}
\DoxyCodeLine{611 }
\DoxyCodeLine{612   res.coeffRef(0,0) = Scalar(1)-\/(tyy+tzz);}
\DoxyCodeLine{613   res.coeffRef(0,1) = txy-\/twz;}
\DoxyCodeLine{614   res.coeffRef(0,2) = txz+twy;}
\DoxyCodeLine{615   res.coeffRef(1,0) = txy+twz;}
\DoxyCodeLine{616   res.coeffRef(1,1) = Scalar(1)-\/(txx+tzz);}
\DoxyCodeLine{617   res.coeffRef(1,2) = tyz-\/twx;}
\DoxyCodeLine{618   res.coeffRef(2,0) = txz-\/twy;}
\DoxyCodeLine{619   res.coeffRef(2,1) = tyz+twx;}
\DoxyCodeLine{620   res.coeffRef(2,2) = Scalar(1)-\/(txx+tyy);}
\DoxyCodeLine{621 }
\DoxyCodeLine{622   \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{623 \}}
\DoxyCodeLine{624 }
\DoxyCodeLine{635 \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{636 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived1, \textcolor{keyword}{typename} Derived2>}
\DoxyCodeLine{637 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} Derived\& \mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{QuaternionBase<Derived>::setFromTwoVectors}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\& a, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\& b)}
\DoxyCodeLine{638 \{}
\DoxyCodeLine{639   EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{640   \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} v0 = a.\mbox{\hyperlink{classEigen_1_1MatrixBase_ab0b6f60e35452acd779e340856fde121}{normalized}}();}
\DoxyCodeLine{641   \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} v1 = b.\mbox{\hyperlink{classEigen_1_1MatrixBase_ab0b6f60e35452acd779e340856fde121}{normalized}}();}
\DoxyCodeLine{642   Scalar c = v1.dot(v0);}
\DoxyCodeLine{643 }
\DoxyCodeLine{644   \textcolor{comment}{// if dot == -\/1, vectors are nearly opposites}}
\DoxyCodeLine{645   \textcolor{comment}{// => accurately compute the rotation axis by computing the}}
\DoxyCodeLine{646   \textcolor{comment}{//    intersection of the two planes. This is done by solving:}}
\DoxyCodeLine{647   \textcolor{comment}{//       x\string^T v0 = 0}}
\DoxyCodeLine{648   \textcolor{comment}{//       x\string^T v1 = 0}}
\DoxyCodeLine{649   \textcolor{comment}{//    under the constraint:}}
\DoxyCodeLine{650   \textcolor{comment}{//       ||x|| = 1}}
\DoxyCodeLine{651   \textcolor{comment}{//    which yields a singular value problem}}
\DoxyCodeLine{652   \textcolor{keywordflow}{if} (c < Scalar(-\/1)+\mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::dummy\_precision}}())}
\DoxyCodeLine{653   \{}
\DoxyCodeLine{654     c = numext::maxi(c,Scalar(-\/1));}
\DoxyCodeLine{655     \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,2,3>}} m; m << v0.transpose(), v1.transpose();}
\DoxyCodeLine{656     \mbox{\hyperlink{classEigen_1_1JacobiSVD}{JacobiSVD<Matrix<Scalar,2,3>}} > svd(m, \mbox{\hyperlink{group__enums_ggae3e239fb70022eb8747994cf5d68b4a9a36581f7c662f7def31efd500c284f930}{ComputeFullV}});}
\DoxyCodeLine{657     \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} axis = svd.\mbox{\hyperlink{classEigen_1_1SVDBase_af09f06357d7d7442f7ca7343713756fe}{matrixV}}().col(2);}
\DoxyCodeLine{658 }
\DoxyCodeLine{659     Scalar w2 = (Scalar(1)+c)*Scalar(0.5);}
\DoxyCodeLine{660     this-\/>w() = sqrt(w2);}
\DoxyCodeLine{661     this-\/>vec() = axis * sqrt(Scalar(1) -\/ w2);}
\DoxyCodeLine{662     \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{663   \}}
\DoxyCodeLine{664   \mbox{\hyperlink{classEigen_1_1Matrix}{Vector3}} axis = v0.cross(v1);}
\DoxyCodeLine{665   Scalar s = sqrt((Scalar(1)+c)*Scalar(2));}
\DoxyCodeLine{666   Scalar invs = Scalar(1)/s;}
\DoxyCodeLine{667   this-\/>vec() = axis * invs;}
\DoxyCodeLine{668   this-\/>w() = s * Scalar(0.5);}
\DoxyCodeLine{669 }
\DoxyCodeLine{670   \textcolor{keywordflow}{return} derived();}
\DoxyCodeLine{671 \}}
\DoxyCodeLine{672 }
\DoxyCodeLine{677 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Options>}
\DoxyCodeLine{678 EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar,Options>}} \mbox{\hyperlink{classEigen_1_1Quaternion_a8a61f4092bc520c7291e5b5e16e80d71}{Quaternion<Scalar,Options>::UnitRandom}}()}
\DoxyCodeLine{679 \{}
\DoxyCodeLine{680   EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{681   EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{682   EIGEN\_USING\_STD(cos)}
\DoxyCodeLine{683   \textcolor{keyword}{const} Scalar u1 = internal::random<Scalar>(0, 1),}
\DoxyCodeLine{684                u2 = internal::random<Scalar>(0, 2*EIGEN\_PI),}
\DoxyCodeLine{685                u3 = internal::random<Scalar>(0, 2*EIGEN\_PI);}
\DoxyCodeLine{686   \textcolor{keyword}{const} Scalar a = sqrt(Scalar(1) -\/ u1),}
\DoxyCodeLine{687                b = sqrt(u1);}
\DoxyCodeLine{688   \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}} (a * sin(u2), a * cos(u2), b * sin(u3), b * cos(u3));}
\DoxyCodeLine{689 \}}
\DoxyCodeLine{690 }
\DoxyCodeLine{691 }
\DoxyCodeLine{702 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Scalar, \textcolor{keywordtype}{int} Options>}
\DoxyCodeLine{703 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Derived1, \textcolor{keyword}{typename} Derived2>}
\DoxyCodeLine{704 EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar,Options>}} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar,Options>::FromTwoVectors}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived1>}}\& a, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Derived2>}}\& b)}
\DoxyCodeLine{705 \{}
\DoxyCodeLine{706     \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion}} quat;}
\DoxyCodeLine{707     quat.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a61ce1b4b1faf6849c9663fd86e9b3a70}{setFromTwoVectors}}(a, b);}
\DoxyCodeLine{708     \textcolor{keywordflow}{return} quat;}
\DoxyCodeLine{709 \}}
\DoxyCodeLine{710 }
\DoxyCodeLine{711 }
\DoxyCodeLine{718 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{719 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename internal::traits<Derived>::Scalar}}> \mbox{\hyperlink{classEigen_1_1QuaternionBase_a6a1d8af1fe34cb4127f705c0d10ef649}{QuaternionBase<Derived>::inverse}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{720 \textcolor{keyword}{}\{}
\DoxyCodeLine{721   \textcolor{comment}{// FIXME should this function be called multiplicativeInverse and conjugate() be called inverse() or opposite()  ??}}
\DoxyCodeLine{722   Scalar n2 = this-\/>squaredNorm();}
\DoxyCodeLine{723   \textcolor{keywordflow}{if} (n2 > Scalar(0))}
\DoxyCodeLine{724     \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(conjugate().coeffs() / n2);}
\DoxyCodeLine{725   \textcolor{keywordflow}{else}}
\DoxyCodeLine{726   \{}
\DoxyCodeLine{727     \textcolor{comment}{// return an invalid result to flag the error}}
\DoxyCodeLine{728     \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(Coefficients::Zero());}
\DoxyCodeLine{729   \}}
\DoxyCodeLine{730 \}}
\DoxyCodeLine{731 }
\DoxyCodeLine{732 \textcolor{comment}{// Generic conjugate of a Quaternion}}
\DoxyCodeLine{733 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{734 \textcolor{keyword}{template}<\textcolor{keywordtype}{int} Arch, \textcolor{keyword}{class} Derived, \textcolor{keyword}{typename} Scalar> \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1quat__conj}{quat\_conj}}}
\DoxyCodeLine{735 \{}
\DoxyCodeLine{736   EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} EIGEN\_STRONG\_INLINE \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} run(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& q)\{}
\DoxyCodeLine{737     \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}(),-\/q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}());}
\DoxyCodeLine{738   \}}
\DoxyCodeLine{739 \};}
\DoxyCodeLine{740 \}}
\DoxyCodeLine{741                          }
\DoxyCodeLine{748 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{749 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{750 \mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{QuaternionBase<Derived>::conjugate}}()\textcolor{keyword}{ const}}
\DoxyCodeLine{751 \textcolor{keyword}{}\{}
\DoxyCodeLine{752   \textcolor{keywordflow}{return} \mbox{\hyperlink{structEigen_1_1internal_1_1quat__conj}{internal::quat\_conj}}<Architecture::Target, Derived,}
\DoxyCodeLine{753                          \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}>::run(*\textcolor{keyword}{this});}
\DoxyCodeLine{754                          }
\DoxyCodeLine{755 \}}
\DoxyCodeLine{756 }
\DoxyCodeLine{760 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{761 \textcolor{keyword}{template} <\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{762 EIGEN\_DEVICE\_FUNC \textcolor{keyword}{inline} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{internal::traits<Derived>::Scalar}}}
\DoxyCodeLine{763 \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::angularDistance}}(\textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{764 \textcolor{keyword}{}\{}
\DoxyCodeLine{765   EIGEN\_USING\_STD(atan2)}
\DoxyCodeLine{766   \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}} d = (*this) * other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_aa82dabadce488031c298a5a0a92cda14}{conjugate}}();}
\DoxyCodeLine{767   \textcolor{keywordflow}{return} Scalar(2) * atan2( d.\mbox{\hyperlink{classEigen_1_1QuaternionBase_ae7927333472826cc8c471ebb9984dd89}{vec}}().norm(), numext::abs(d.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}()) );}
\DoxyCodeLine{768 \}}
\DoxyCodeLine{769 }
\DoxyCodeLine{770  }
\DoxyCodeLine{771     }
\DoxyCodeLine{778 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived>}
\DoxyCodeLine{779 \textcolor{keyword}{template} <\textcolor{keyword}{class} OtherDerived>}
\DoxyCodeLine{780 EIGEN\_DEVICE\_FUNC \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<typename internal::traits<Derived>::Scalar}}>}
\DoxyCodeLine{781 \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>::slerp}}(\textcolor{keyword}{const} Scalar\& t, \textcolor{keyword}{const} \mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<OtherDerived>}}\& other)\textcolor{keyword}{ const}}
\DoxyCodeLine{782 \textcolor{keyword}{}\{}
\DoxyCodeLine{783   EIGEN\_USING\_STD(acos)}
\DoxyCodeLine{784   EIGEN\_USING\_STD(sin)}
\DoxyCodeLine{785   \textcolor{keyword}{const} Scalar one = Scalar(1) -\/ \mbox{\hyperlink{structEigen_1_1NumTraits}{NumTraits<Scalar>::epsilon}}();}
\DoxyCodeLine{786   Scalar d = this-\/>dot(other);}
\DoxyCodeLine{787   Scalar absD = numext::abs(d);}
\DoxyCodeLine{788 }
\DoxyCodeLine{789   Scalar scale0;}
\DoxyCodeLine{790   Scalar scale1;}
\DoxyCodeLine{791 }
\DoxyCodeLine{792   \textcolor{keywordflow}{if}(absD>=one)}
\DoxyCodeLine{793   \{}
\DoxyCodeLine{794     scale0 = Scalar(1) -\/ t;}
\DoxyCodeLine{795     scale1 = t;}
\DoxyCodeLine{796   \}}
\DoxyCodeLine{797   \textcolor{keywordflow}{else}}
\DoxyCodeLine{798   \{}
\DoxyCodeLine{799     \textcolor{comment}{// theta is the angle between the 2 quaternions}}
\DoxyCodeLine{800     Scalar theta = acos(absD);}
\DoxyCodeLine{801     Scalar sinTheta = sin(theta);}
\DoxyCodeLine{802 }
\DoxyCodeLine{803     scale0 = sin( ( Scalar(1) -\/ t ) * theta) / sinTheta;}
\DoxyCodeLine{804     scale1 = sin( ( t * theta) ) / sinTheta;}
\DoxyCodeLine{805   \}}
\DoxyCodeLine{806   \textcolor{keywordflow}{if}(d<Scalar(0)) scale1 = -\/scale1;}
\DoxyCodeLine{807 }
\DoxyCodeLine{808   \textcolor{keywordflow}{return} \mbox{\hyperlink{classEigen_1_1Quaternion}{Quaternion<Scalar>}}(scale0 * coeffs() + scale1 * other.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}());}
\DoxyCodeLine{809 \}}
\DoxyCodeLine{810 }
\DoxyCodeLine{811 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{812 }
\DoxyCodeLine{813 \textcolor{comment}{// set from a rotation matrix}}
\DoxyCodeLine{814 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Other>}
\DoxyCodeLine{815 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}}<Other,3,3>}
\DoxyCodeLine{816 \{}
\DoxyCodeLine{817   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Other::Scalar Scalar;}
\DoxyCodeLine{818   \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived> EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& q, \textcolor{keyword}{const} Other\& a\_mat)}
\DoxyCodeLine{819   \{}
\DoxyCodeLine{820     \textcolor{keyword}{const} \textcolor{keyword}{typename} \mbox{\hyperlink{structEigen_1_1internal_1_1true__type}{internal::nested\_eval<Other,2>::type}} mat(a\_mat);}
\DoxyCodeLine{821     EIGEN\_USING\_STD(sqrt)}
\DoxyCodeLine{822     \textcolor{comment}{// This algorithm comes from  "{}Quaternion Calculus and Fast Animation"{},}}
\DoxyCodeLine{823     \textcolor{comment}{// Ken Shoemake, 1987 SIGGRAPH course notes}}
\DoxyCodeLine{824     Scalar t = mat.trace();}
\DoxyCodeLine{825     \textcolor{keywordflow}{if} (t > Scalar(0))}
\DoxyCodeLine{826     \{}
\DoxyCodeLine{827       t = sqrt(t + Scalar(1.0));}
\DoxyCodeLine{828       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() = Scalar(0.5)*t;}
\DoxyCodeLine{829       t = Scalar(0.5)/t;}
\DoxyCodeLine{830       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af5a6618608a86232397a60d11dbad13d}{x}}() = (mat.coeff(2,1) -\/ mat.coeff(1,2)) * t;}
\DoxyCodeLine{831       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a77a62575ed017e4086145714db4e6502}{y}}() = (mat.coeff(0,2) -\/ mat.coeff(2,0)) * t;}
\DoxyCodeLine{832       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_af76afdeb1d1441cbf09d4989437a930e}{z}}() = (mat.coeff(1,0) -\/ mat.coeff(0,1)) * t;}
\DoxyCodeLine{833     \}}
\DoxyCodeLine{834     \textcolor{keywordflow}{else}}
\DoxyCodeLine{835     \{}
\DoxyCodeLine{836       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} i = 0;}
\DoxyCodeLine{837       \textcolor{keywordflow}{if} (mat.coeff(1,1) > mat.coeff(0,0))}
\DoxyCodeLine{838         i = 1;}
\DoxyCodeLine{839       \textcolor{keywordflow}{if} (mat.coeff(2,2) > mat.coeff(i,i))}
\DoxyCodeLine{840         i = 2;}
\DoxyCodeLine{841       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} j = (i+1)\%3;}
\DoxyCodeLine{842       \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}} k = (j+1)\%3;}
\DoxyCodeLine{843 }
\DoxyCodeLine{844       t = sqrt(mat.coeff(i,i)-\/mat.coeff(j,j)-\/mat.coeff(k,k) + Scalar(1.0));}
\DoxyCodeLine{845       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(i) = Scalar(0.5) * t;}
\DoxyCodeLine{846       t = Scalar(0.5)/t;}
\DoxyCodeLine{847       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a6221021558ba509e7a5a7fc68092034d}{w}}() = (mat.coeff(k,j)-\/mat.coeff(j,k))*t;}
\DoxyCodeLine{848       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(j) = (mat.coeff(j,i)+mat.coeff(i,j))*t;}
\DoxyCodeLine{849       q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}().coeffRef(k) = (mat.coeff(k,i)+mat.coeff(i,k))*t;}
\DoxyCodeLine{850     \}}
\DoxyCodeLine{851   \}}
\DoxyCodeLine{852 \};}
\DoxyCodeLine{853 }
\DoxyCodeLine{854 \textcolor{comment}{// set from a vector of coefficients assumed to be a quaternion}}
\DoxyCodeLine{855 \textcolor{keyword}{template}<\textcolor{keyword}{typename} Other>}
\DoxyCodeLine{856 \textcolor{keyword}{struct }\mbox{\hyperlink{structEigen_1_1internal_1_1quaternionbase__assign__impl}{quaternionbase\_assign\_impl}}<Other,4,1>}
\DoxyCodeLine{857 \{}
\DoxyCodeLine{858   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Other::Scalar Scalar;}
\DoxyCodeLine{859   \textcolor{keyword}{template}<\textcolor{keyword}{class} Derived> EIGEN\_DEVICE\_FUNC \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} run(\mbox{\hyperlink{classEigen_1_1QuaternionBase}{QuaternionBase<Derived>}}\& q, \textcolor{keyword}{const} Other\& vec)}
\DoxyCodeLine{860   \{}
\DoxyCodeLine{861     q.\mbox{\hyperlink{classEigen_1_1QuaternionBase_a1a7dd10b8e218170dd8f52edd8356f9b}{coeffs}}() = vec;}
\DoxyCodeLine{862   \}}
\DoxyCodeLine{863 \};}
\DoxyCodeLine{864 }
\DoxyCodeLine{865 \} \textcolor{comment}{// end namespace internal}}
\DoxyCodeLine{866 }
\DoxyCodeLine{867 \} \textcolor{comment}{// end namespace Eigen}}
\DoxyCodeLine{868 }
\DoxyCodeLine{869 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// EIGEN\_QUATERNION\_H}}

\end{DoxyCode}
